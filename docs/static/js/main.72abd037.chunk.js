(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{235:function(e,t){},381:function(e,t){},561:function(e,t,n){},562:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(1),o=n(44),c=n.n(o),i=n(69),s=n.n(i),l=n(200),u=n(100),d=n(57),p=function(e,t){return{type:"SET_STORED_DATA",payload:{data:e,name:t}}},h=function(e,t){return{type:"SET_STORED_GEOJSON",payload:{data:e,name:t}}},b=function(e){return{type:"SET_CURRENT_DATA",payload:{data:e}}},j=function(e,t){return{type:"SET_COLUMN_NAMES",payload:{data:e,name:t}}},f=function(e){return{type:"SET_CURR_DATE",payload:{date:e}}},x=function(e){return{type:"SET_VARIABLE_PARAMS",payload:{params:e}}},g=function(e){return{type:"SET_MAP_PARAMS",payload:{params:e}}},O=n(32),m=n(302),y=n(303);window.Module;function _(e){return Number(e)===e&&e%1===0}var v=function(){function e(){Object(m.a)(this,e),this.geojson_maps={}}return Object(y.a)(e,[{key:"ReadGeojsonMap",value:function(e,t){var n=new Uint8Array(t.result),a=window.Module._malloc(n.length);window.Module.HEAPU8.set(n,a),window.Module.ccall("new_geojsonmap1",null,["string","number","number"],[e,a,n.length]),window.Module._free(a);var r=window.Module.get_map_type(e);return this.geojson_maps[e]=r,e}},{key:"Has",value:function(e){return e in this.geojson_maps}},{key:"List",value:function(){return this.geojson_maps}},{key:"GetCentroids",value:function(e){for(var t=window.Module.get_centroids(e),n=t.get_x(),a=t.get_y(),r=[],o=0;o<n.size();++o)r.push([n.get(o),a.get(o)]);return r}},{key:"GetNumObs",value:function(e){return window.Module.get_num_obs(e)}},{key:"GetMapType",value:function(e){return this.geojson_maps[e]}},{key:"GetNumericCol",value:function(e,t){return window.Module.get_numeric_col(e,t)}},{key:"CreateRookWeights",value:function(e,t,n,a){return window.Module.rook_weights(e,t,n,a)}},{key:"CreateQueenWeights",value:function(e,t,n,a){return window.Module.queen_weights(e,t,n,a)}},{key:"GetMinDistThreshold",value:function(e,t,n){return window.Module.min_distance_threshold(e,t,n)}},{key:"CreateKnnWeights",value:function(e,t,n,a,r,o){return window.Module.knn_weights(e,t,n,a,r,o)}},{key:"CreateDistWeights",value:function(e,t,n,a,r,o){return window.Module.dist_weights(e,t,n,a,r,o)}},{key:"CreateKernelWeights",value:function(e,t,n,a,r,o,c){return window.Module.kernel_weights(e,t,n,a,r,o,c)}},{key:"CreateKernelBandwidthWeights",value:function(e,t,n,a,r,o){return window.Module.kernel_bandwidth_weights(e,t,n,a,r,o)}},{key:"local_moran",value:function(e,t,n){return window.Module.local_moran(e,t,n)}},{key:"local_moran1",value:function(e,t,n){return window.Module.local_moran1(e,t,this.toVecDouble(n))}},{key:"local_g",value:function(e,t,n){return window.Module.local_g(e,t,n)}},{key:"local_gstar",value:function(e,t,n){return window.Module.local_gstar(e,t,n)}},{key:"local_geary",value:function(e,t,n){return window.Module.local_geary(e,t,n)}},{key:"local_joincount",value:function(e,t,n){return window.Module.local_joincount(e,t,n)}},{key:"GetNeighbors",value:function(e,t,n){var a=window.Module.get_neighbors(e,t,n);return this.parseVecInt(a)}},{key:"parseVecInt",value:function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t}},{key:"parseVecVecInt",value:function(e){for(var t=[],n=0;n<e.size();++n){for(var a=[],r=e.get(n),o=0;o<r.size();++o)a.push(r.get(o));t.push(a)}return t}},{key:"parseVecDouble",value:function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t}},{key:"toVecString",value:function(e){for(var t=new window.Module.VectorString,n=0;n<e.length;++n)t.push_back(e[n]);return t}},{key:"toVecDouble",value:function(e){for(var t=new window.Module.VectorDouble,n=0;n<e.length;++n)isNaN(e[n])||e[n]==1/0?t.push_back(0):t.push_back(e[n]);return t}},{key:"redcap",value:function(e,t,n,a,r,o,c){var i=this.toVecString(a),s=window.Module.redcap(e,t,n,i,r,o,c);return this.parseVecVecInt(s)}},{key:"maxp",value:function(e,t,n,a,r,o,c,i,s,l){var u=this.toVecString(a),d=window.Module.maxp(e,t,u,r,o,i,s,c,n,l);return this.parseVecVecInt(d)}},{key:"custom_breaks",value:function(e,t,n,a,r){var o;o=null==a?window.Module.custom_breaks1(e,n,t,this.toVecDouble(r)):window.Module.custom_breaks(e,n,a,t);for(var c=this.parseVecDouble(o),i=c,s=[],l=[],u=0;u<c.length;++u){l.push([]);var d=_(c[u])?c[u]:c[u].toFixed(2);s.push(""+d)}l.push([]);var p=c[c.length-1];void 0!=p&&(p=_(p)?p:p.toFixed(2),s.push(">"+p)),c.unshift(Number.NEGATIVE_INFINITY),c.push(Number.POSITIVE_INFINITY);for(var h=0;h<r.length;++h)for(var b=r[h],j=0;j<c.length-1;++j){var f=c[j],x=c[j+1];if(b>=f&&b<x){l[j].push(h);break}}for(var g=0;g<s.length;++g);return{k:n,bins:s,breaks:i,id_array:l}}},{key:"cartogram",value:function(e,t){for(var n=window.Module.cartogram(e,this.toVecDouble(t)),a=n.get_x(),r=n.get_y(),o=n.get_radius(),c=a.get(0),i=a.get(0),s=r.get(0),l=r.get(0),u=0;u<a.size();++u)c>a.get(u)&&(c=a.get(u)),i<a.get(u)&&(i=a.get(u)),s>r.get(u)&&(s=r.get(u)),l<r.get(u)&&(l=r.get(u));for(var d=100/(i-c),p=45/(l-s),h=[],b=0;b<a.size();++b){a.get(b),r.get(b);h.push({properties:{id:b},position:[a.get(b)/1e4,r.get(b)/1e4],radius:o.get(b)})}return h}}]),e}(),w=function(e,t,n,a,r,o,c,i,s){return void 0===e?0:null===o&&null===a?(e[t]||e[n])*s:null===o&&null!==a?(e[n]-e[n-a])/a*s:null!==o&&null===a?(e[t]||e[n])/(r[o]||r[c])*s:null!==o&&null!==a&&null===i?(e[n]-e[n-a])/a/(r[o]||r[c])*s:null!==o&&null!==a&&null!==i?(e[n]-e[n-a])/a/((r[c]-r[c-i])/i)*s:0},T=function(e,t,n){if(0==e)return n[0];for(var a=1;a<t.length;a++)if(e<t[a])return n[a];return n[0]};function k(){return(k=Object(u.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){var a=e.clone();return U(a,t,n),e.json()})).then((function(e){return{data:e,geoidIndex:B(e.features)}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e,t){return k.apply(this,arguments)},S=n(639),I=n(615);function E(){return(E=Object(u.a)(s.a.mark((function e(t,n,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){var t=S.a(e,I.a),r={},o=t.length;if(a)for(var c=L(Object.keys(t[0]))[1];o>0;){o--;for(var i=Object.values(t[o]),s=[],l=c,u=0;l<i.length;)l===c?s.push(i[l]):(s.push(i[l]+s[u]),u++),l++;for(var d=0;d<c;d++)s.unshift(i[d]);r[t[o][n]]=s}else for(;o>0;)r[t[--o][n]]=Object.values(t[o]);return console.log(r),[r,Object.keys(t[0])]}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(e,t,n){return E.apply(this,arguments)},P=n(304),M=function(e,t,n,a,r){var o={},c={},i=(Object.keys(e.features[0]).length,e.features.length),s=parseInt(e.features[0].properties[t]);if(Number.isInteger(s))for(;i>0;)i--,o[parseInt(e.features[i].properties[t])]=e.features[i],c[parseInt(e.features[i].properties[t])]={};else for(;i>0;)i--,o[e.features[i].properties[t]]=e.features[i],c[e.features[i].properties[t]]={};for(var l=n.length;l>0;){l--;var u=Object.keys(n[l][0]);for(i=u.length;i>0;){i--;try{c[u[i]][a[l]]=n[l][0][u[i]]}catch(j){}}}for(var d=Object(P.merge)(o,c),p=[],h=Object.keys(d),b=0;b<h.length;b++)p.push(d[h[b]]);return p},C=function(e,t,n){return e[t].indexOf(n)},A=function(e,t,n,a){try{return e[t][n].indexOf(a)}catch(r){return null}},L=function(e){for(var t=0;t<e.length;t++)if(Date.parse(e[t]))return[e.slice(t),t]},N=function(e,t,n,a,r,o,c,i,s,l,u,d){var p=performance.now(),h=[],b=e.length;if(null===r&&null===a)for(var j=e[0][t].length-1,f="time-series"===i?e[0][c].length-1:l;b>0;)b--,h.unshift(w(e[b][t],a,j,o,e[b][c],s,f,u,d));else for(;b>0;)b--,h.unshift(w(e[b][t],a,r,o,e[b][c],s,l,u,d));return console.log(performance.now()-p),h},V=function(e,t,n,a){for(var r=performance.now(),o=Object.keys(e),c=n,i=[];c<e[o[0]][t].length;){for(var s={},l=0,u=0;u<o.length;)void 0!==e[o[u]][t]&&(l+=e[o[u]][t][c]),u++;s.count=l,s.date=a[c-n],i.push(s),c++}return console.log(performance.now()-r),i},H=function(e,t,n,a,r,o,c,i,s,l,u,d,p){var h=performance.now(),b={},j=e.length;if(null===r&&null===a)for(var f=e[0][t].length-1,x="time-series"===i?e[0][c].length-1:l;j>0;)b[e[--j].properties.GEOID]=w(e[j][t],a,f,o,e[j][c],s,x,u,d);else for(;j>0;)b[e[--j].properties.GEOID]=w(e[j][t],a,r,o,e[j][c],s,l,u,d);var g=[];j=0;for(var O=Object.keys(p);j<O.length;)g.push(b[p[O[j]]]),j++;return console.log(performance.now()-h),g},F=function(e,t){var n=e.CreateQueenWeights(t,1,0,0);return{map_uuid:t,w:n,w_uuid:n.get_uid()}},G=function(e,t,n,a){for(var r=F(e,t),o=!0,c=0;c<n.length;++c)0!=n[c]&&(o=!1);var i=[],s=[];if(o)for(var l=0;l<n.length;++l)i.push(0),s.push(0);else{var u=e.local_moran1(r.map_uuid,r.w_uuid,n);i=e.parseVecDouble(u.clusters()),s=e.parseVecDouble(u.significances())}return i},z=function(e,t){return"".concat(e,"-").concat(t.numerator,"-").concat(t.nIndex,"-").concat(t.nRange,"-").concat(t.denominator,"-").concat(t.dProperty,"-").concat(t.dIndex,"-").concat(t.dRange,"-").concat(t.scale)},B=function(e){for(var t={},n={},a=0;a<e.length;)t[e[a].properties.GEOID]=a,n[a]=e[a].properties.GEOID,a++;return{geoidOrder:t,indexOrder:n}},U=function(){var e=Object(u.a)(s.a.mark((function e(t,n,a){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:r=e.sent,a.ReadGeojsonMap(n.split("/").slice(-1)[0],{result:r});case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),W=n(16),Y=n(58),X=n(630),K=n(637),J=n(309),Q=n(616),q=n(199),Z=n(325),$=n(633),ee={natural_breaks:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]],lisa:[[255,255,255],[255,0,0],[0,0,255],[167,173,249],[244,173,168],[70,70,70],[153,153,153]],hinge15_breaks:[[1,102,94],[90,180,172],[199,234,229],[246,232,195],[216,179,101],[140,81,10]],uninsured:[[240,240,240],[247,252,253],[224,236,244],[191,211,230],[158,188,218],[140,150,198],[140,107,177],[136,65,157],[129,15,124]],over65:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],lifeExp:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],forecasting:[[240,240,240],[254,232,200],[253,187,132],[227,74,51]],testings:[[240,240,240],[13,8,135],[92,1,166],[156,23,158],[203,70,121],[237,121,83],[253,180,47],[240,249,33]],testingCap:[[240,240,240],[247,251,255],[222,235,247],[198,219,239],[158,202,225],[107,174,214],[66,146,198],[33,113,181],[8,81,156],[8,48,107]]},te={testing:{bins:["No Data","<3%","5%","10%","15%","20%",">25%"],breaks:[0,3,5,10,15,20,25,Math.pow(10,12)]},testingCap:{bins:["No Data","<50","100","150","200","250","300","350",">400"],breaks:[0,50,100,150,200,250,300,350,400,Math.pow(10,12)]},lisa:{bins:["Not significant","High-High","Low-Low","Low-High","High-Low","Undefined","Isolated"]}},ne={"county_usfacts.geojson":{geojson:"county_usfacts.geojson",csv:["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"county_1p3a.geojson":{geojson:"county_1p3a.geojson",csv:["covid_confirmed_1p3a","covid_deaths_1p3a","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:["covid_confirmed_1p3a","covid_deaths_1p3a"]},"county_nyt.geojson":{geojson:"county_nyt.geojson",csv:["covid_confirmed_nyt","covid_deaths_nyt","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"state_1p3a.geojson":{geojson:"state_1p3a.geojson",csv:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_1p3a_state","covid_wk_pos_1p3a_state","covid_tcap_1p3a_state","covid_ccpt_1p3a_state"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state"]}},ae=n(59);function re(){var e=Object(Y.a)(["\n    width:29px;\n    height:29px;\n    padding:5px;\n    margin-bottom:10px;\n    display:block;\n    background-color: ",";\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    border-radius: 4px;\n    outline:none;\n    border:none;\n    transition:250ms all;\n"]);return re=function(){return e},e}function oe(){var e=Object(Y.a)(["\n    background:#2b2b2b;\n    padding:20px;\n    color:white;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    h3 {\n        margin:2px 0;\n    }\n"]);return oe=function(){return e},e}var ce={latitude:35.850033,longitude:-105.6500523,zoom:3.5,pitch:0,bearing:0},ie={CONTINENTS:"".concat(".","/geojson/world50m.json")},se=ae.a.div(oe()),le=ae.a.button(re(),(function(e){return e.isActive?"yellow":"#f5f5f5"})),ue=new K.a({id:"globe",controller:!1,resolution:1}),de=new J.a({repeat:!0}),pe=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),i=Object(d.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(!1),p=Object(d.a)(u,2),h=p[0],b=(p[1],Object(r.useState)({})),j=Object(d.a)(b,2),f=j[0],x=j[1],m=Object(r.useState)(ce),y=Object(d.a)(m,2),_=y[0],v=y[1],k=Object(O.c)((function(e){return e.storedData})),D=Object(O.c)((function(e){return e.storedGeojson})),S=Object(O.c)((function(e){return e.currentData})),I=Object(O.c)((function(e){return e.storedLisaData})),E=Object(O.c)((function(e){return e.dataParams})),R=Object(O.c)((function(e){return e.mapParams})),P=Object(O.b)();Object(r.useEffect)((function(){var e=I[z(S,E)];void 0!==e&&x(e)}),[I,E,R]);var M=[new Z.a({id:"background",data:[[[-180,90],[0,90],[180,90],[180,-90],[0,-90],[-180,-90]]],opacity:1,getPolygon:function(e){return e},stroked:!1,filled:!0,getFillColor:[10,10,10]}),new $.a({id:"base continents",data:ie.CONTINENTS,pickable:!1,stroked:!1,filled:!0,wireframe:!1,getFillColor:[30,30,30]}),new $.a({id:"choropleth",data:{type:"FeatureCollection",name:S,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:k[S]?k[S]:[]},visible:"cartogram"!==R.mapType,pickable:!0,stroked:!1,filled:!0,wireframe:R.use3d,extruded:R.use3d,opacity:R.use3d?1:.5,getFillColor:function(e){return function(e,t,n){return t.hasOwnProperty("bins")?"lisa"===n?ee.lisa[f[D[S].geoidOrder[e.properties.GEOID]]]:T(w(e[E.numerator],E.nProperty,E.nIndex,E.nRange,e[E.denominator],E.dProperty,E.dIndex,E.dRange,E.scale),t.breaks,R.colorScale):[0,0,0]}(e,R.bins,R.mapType)},getElevation:function(e){return function(e,t){return t.hasOwnProperty("bins")?1e3*w(e[E.numerator],E.nProperty,E.nIndex,E.nRange,e[E.denominator],E.dProperty,E.dIndex,E.dRange,E.scale):0}(e,R.bins,R.mapType)},updateTriggers:{data:S,getFillColor:[E,R],getElevation:[E,R]},onHover:function(e){try{console.log(e),o(e)}catch(t){o(null)}},onClick:function(e){try{P({type:"SET_DATA_SIDEBAR",payload:{data:e.object}}),l(e.object.properties.GEOID)}catch(t){}}}),new $.a({id:"highlightLayer",data:{type:"FeatureCollection",name:S,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:k[S]?k[S]:[]},pickable:!1,stroked:!0,filled:!1,getLineColor:function(e){return s===e.properties.GEOID?[255,255,255]:[255,255,255,0]},lineWidthScale:10,getLineWidth:1,lineWidthMinPixels:2,updateTriggers:{data:S,getLineColor:s}})];return Object(a.jsx)("div",{id:"mapContainer",style:{position:"fixed",left:0,top:0,width:"100%",height:"100%"},children:Object(a.jsxs)(X.a,{initialViewState:_,controller:!0,layers:M,views:h?ue:de,children:[Object(a.jsxs)(q.c,{reuseMaps:!0,mapStyle:h?"mapbox://styles/lixun910/ckhtcdx4b0xyc19qzlt4b5c0d":"mapbox://styles/lixun910/ckhkoo8ix29s119ruodgwfxec",preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoibGl4dW45MTAiLCJhIjoiY2locXMxcWFqMDAwenQ0bTFhaTZmbnRwaiJ9.VRNeNnyb96Eo-CorkJmIqg",children:[Object(a.jsxs)("div",{style:{position:"absolute",right:10,bottom:30,zIndex:10},children:[Object(a.jsx)(le,{onClick:function(){R.use3d?(P(g({use3d:!1})),v((function(e){return Object(W.a)(Object(W.a)({},e),{},{bearing:0,pitch:0,transitionInterpolator:new Q.a,transitionDuration:250})}))):(P(g({use3d:!0})),v((function(e){return Object(W.a)(Object(W.a)({},e),{},{bearing:-30,pitch:45,transitionInterpolator:new Q.a,transitionDuration:250})})))},isActive:R.use3d,children:Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("path",{d:"M109,23.7c0-1-0.2-1.9-0.7-2.8c-0.1-0.2-0.3-0.4-0.5-0.7c-0.4-0.6-0.8-1.1-1.3-1.5l0,0L54.1-20.5c-2.3-1.7-5.5-1.7-7.9,0\r L-6.2,18.8l0,0c-0.5,0.4-1,0.9-1.3,1.5C-7.7,20.5-7.8,20.7-8,21c-0.6,0.8-0.9,1.8-1,2.8v52.5c0,0,0,0,0,0.5c0.2,1.7,1,3.3,2.2,4.5\r v0.3l52.5,39.3l0.9,0.5l0.7,0.4c1.5,0.6,3.2,0.6,4.7,0l0.7-0.4l0.9-0.5l52.5-39.3v-0.3c1.3-1.2,2.1-2.8,2.2-4.5c0,0,0,0,0-0.5\r L109,23.7z M4.1,36.8l39.3,29.5v36.1L4.1,72.9V36.8z M56.6,66.3l39.3-29.5v36.1l-39.3,29.5V66.3z M50-7.4l41.5,31.1L50,54.9\r L8.5,23.7L50-7.4z"})})})}),Object(a.jsx)(q.a,{positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,onGeolocate:function(e){return console.log(e.coords.latitude)},style:{marginBottom:10}}),Object(a.jsx)(q.b,{onViewportChange:function(e){return v(e)}})]}),Object(a.jsx)("div",{})]}),n.object&&Object(a.jsxs)(se,{style:{position:"absolute",zIndex:1,pointerEvents:"none",left:n.x,top:n.y},children:[n.object.properties&&Object(a.jsxs)("h3",{children:["".concat(n.object.properties.NAME)," ",void 0!==n.object.properties.state_name&&", ".concat(n.object.properties.state_name)]}),n.object.cases&&Object(a.jsxs)("div",{children:["Cases: ",n.object.cases.slice(-1)[0].toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths: ",n.object.deaths.slice(-1)[0].toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases: ",(n.object.cases.slice(-1)[0]-n.object.cases.slice(-2,-1)[0]).toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths: ",(n.object.deaths.slice(-1)[0]-n.object.deaths.slice(-2,-1)[0]).toLocaleString("en"),Object(a.jsx)("br",{})]})]})]})})},he=n(621),be=n(640),je=n(565),fe=n(625);function xe(){var e=Object(Y.a)(["\n    color:white;\n    // span.MuiSlider-rail {\n    //     display:none;\n    // }\n    // span.MuiSlider-track {\n    //     display: none;\n    // }\n    span.MuiSlider-thumb {\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return xe=function(){return e},e}function ge(){var e=Object(Y.a)(["\n    color:white;\n    // span.MuiSlider-rail {\n    //     display:none;\n    // }\n    // span.MuiSlider-track {\n    //     display: none;\n    // }\n    span.MuiSlider-thumb {\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return ge=function(){return e},e}function Oe(){var e=Object(Y.a)(["\n    background:none;\n    transform:translateY(-100%);\n    svg {\n        width: 100%;\n        g {\n            fill: white;\n        }\n    }\n"]);return Oe=function(){return e},e}function me(){var e=Object(Y.a)(["\n    color:rgb(200,200,200);\n    background: none;\n    transition: 250ms all;\n    border-color: white !important;\n    font-size: 75% !important;\n    transition:250ms all;\n    &:hover {\n        color:white;\n    }\n    &.active {\n        cursor: initial;\n        font-size: 75%;\n        color:black !important;\n        background: white !important;\n        transition: 250ms all;\n        border-color: white;\n    }\n"]);return me=function(){return e},e}function ye(){var e=Object(Y.a)(["\n    width: 100%;\n    margin: 0;\n    padding: 5px 20px;\n    color: white;\n"]);return ye=function(){return e},e}var _e=Object(ae.a)(he.a)(ye()),ve=Object(ae.a)(je.a)(me()),we=Object(ae.a)(je.a)(Oe()),Te=Object(ae.a)(be.a)(ge()),ke=Object(ae.a)(be.a)(xe()),De=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.currentData})),n=Object(O.c)((function(e){return e.dates})),o=Object(O.c)((function(e){return e.dataParams})),c=Object(O.c)((function(e){return e.startDateIndex})),i=Object(r.useState)(null),s=Object(d.a)(i,2),l=s[0],u=s[1],p=Object(r.useState)(!1),h=Object(d.a)(p,2),b=h[0],j=h[1],g=function(t){"custom"===t?(j(!0),"time-series"===o.nType&&"time-series"===o.dType?e(x({nRange:14,dRange:14})):"time-series"===o.nType?e(x({nRange:14})):"time-series"===o.dType&&e(x({dRange:14}))):(j(!1),"time-series"===o.nType&&"time-series"===o.dType?e(x({nRange:t,dRange:t})):"time-series"===o.nType?e(x({nRange:t})):"time-series"===o.dType&&e(x({dRange:t})))};function m(e){return"".concat(n[t][e])}return void 0!==n[t]?Object(a.jsxs)(_e,{container:!0,spacing:2,id:"slider-container",style:{visibility:"time-series"===o.nType?"visible":"hidden"},children:[Object(a.jsx)(he.a,{item:!0,xs:1,children:Object(a.jsx)(we,{id:"playPause",onClick:function(){return function(t,n,a){null===t?u(setInterval((function(t){return e({type:"INCREMENT_DATE",payload:{index:n}})}),a)):(clearInterval(t),u(null))}(l,1,100)},children:null===l?Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M74.4,58.7L40.7,92.2c-7.1,7.2-18.7,4.4-18.7-6.3V14c0-10.7,11.6-13.5,18.7-6.3l33.6,33.5\r C79.1,46,79.1,53.8,74.4,58.7z M69.1,53.4c1.9-1.9,1.9-5,0-6.7L35.5,13c-2.1-2.1-6-3.2-6,1.1V86c0,4.3,3.9,3.2,6,1.1L69.1,53.4z"})})})}):Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M22.4,0.6c3.4,0,6.8,0,10.3,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8\r c-3.4,0-6.8,0-10.3,0c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C10.6,5.9,15.9,0.6,22.4,0.6z M22.4,6.5c3.4,0,6.8,0,10.3,0\r c3.2,0,5.9,2.6,5.9,5.9c0,25,0,50.1,0,75.2c0,3.2-2.7,5.9-5.9,5.9c-3.4,0-6.8,0-10.3,0c-3.2,0-5.9-2.7-5.9-5.9\r c0-25.1,0-50.2,0-75.2C16.5,9.1,19.2,6.5,22.4,6.5z M67.3,6.5c3.4,0,6.8,0,10.2,0s6,2.6,6,5.9c0,25,0,50.1,0,75.2\r c0,3.2-2.7,5.9-6,5.9s-6.7,0-10.2,0c-3.3,0-5.9-2.7-5.9-5.9c0-25.1,0-50.2,0-75.2C61.4,9.1,64,6.5,67.3,6.5z M67.3,0.6\r c3.4,0,6.8,0,10.2,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8c-3.3,0-6.7,0-10.2,0\r c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C55.5,5.9,60.8,0.6,67.3,0.6z"})})})})})}),Object(a.jsxs)(he.a,{item:!0,xs:9,children:[!b&&Object(a.jsx)(Te,{value:o.nIndex,valueLabelDisplay:"on",onChange:function(a,r){"time-series"===o.nType&&"time-series"===o.dType?e(x({nIndex:r,dIndex:r})):"time-series"===o.nType?e(x({nIndex:r})):"time-series"===o.dType&&e(x({dIndex:r})),e(f(n[t][r]))},getAriaValueText:m,valueLabelFormat:m,"aria-labelledby":"aria-valuetext",min:c,step:1,max:n[t].length-1}),b&&Object(a.jsx)(ke,{value:[o.nIndex-o.nRange,o.nIndex],valueLabelDisplay:"on",onChange:function(t,n){o.dRange?e(x({nIndex:n[1],nRange:n[1]-n[0],rIndex:n[1],rRange:n[1]-n[0]})):e(x({nIndex:n[1],nRange:n[1]-n[0]}))},getAriaValueText:m,valueLabelFormat:m,"aria-labelledby":"aria-valuetext",min:c,step:1,max:n[t].length-1})]}),Object(a.jsx)(he.a,{item:!0,xs:2,style:{marginTop:"-120px"},children:Object(a.jsxs)(fe.a,{orientation:"vertical",color:"primary","aria-label":"vertical outlined primary button group",style:{float:"right"},children:[Object(a.jsx)(ve,{className:null===o.nRange?"active":"",onClick:function(){return g(null)},children:"Cumulative"}),Object(a.jsx)(ve,{className:1===o.nRange?"active":"",onClick:function(){return g(1)},children:"New Daily"}),Object(a.jsx)(ve,{className:7===o.nRange?"active":"",onClick:function(){return g(7)},children:"Weekly Average"}),Object(a.jsx)(ve,{className:b?"active":"",onClick:function(){return g("custom")},children:"Custom Range"})]})})]}):Object(a.jsx)(_e,{})},Se=function(e){return Object(a.jsx)("div",{id:"legend",children:Object(a.jsxs)(he.a,{container:!0,spacing:2,id:"legend-bins-container",children:[Object(a.jsx)(he.a,{item:!0,xs:6,children:Object(a.jsx)("h3",{children:void 0!==e.title&&e.title})}),Object(a.jsxs)(he.a,{item:!0,xs:6,children:[Object(a.jsx)("div",{id:"binBars",children:void 0!==e.colors&&e.colors.map((function(e){return Object(a.jsx)("div",{className:"bin color",style:{backgroundColor:"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}},"".concat(e[0]).concat(e[1]))}))}),Object(a.jsxs)("div",{id:"binLabels",style:{padding:"0 ".concat(void 0!==e.labels?100/e.labels.length/2-1:0,"%")},children:[Object(a.jsx)("div",{className:"bin label",children:"0"}),void 0!==e.labels&&function(e){if(void 0!==e)return e.slice(-1)[0]!==">".concat(e.slice(-2,-1)[0])||(e.splice(0,1,"<".concat(e[0])),e.splice(-2,1)),e}(e.labels).map((function(e){return Object(a.jsx)("div",{className:"bin label",children:e},e)}))]})]})]})})};function Ie(){var e=Object(Y.a)(["\n  position:fixed;\n  right:0;\n  top:0;\n  height:100vh;\n  min-width:200px;\n  background-color: #2b2b2b;\n  box-shadow: -2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color: white;\n  font-size:100%;\n  padding:0;\n  z-index:5;\n  div.container {\n    width:100%;\n    height:100vh;\n    overflow-y:scroll;\n    padding:5px 0 0 30px;\n    box-sizing:border-box;\n    div {\n      padding-right:20px;\n      box-sizing:border-box;\n    }\n  }\n  button#showHideRight {\n    position:absolute;    \n    right:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: #2b2b2b;\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg {\n      padding:0;\n      margin:0;\n      fill:white;\n      transform:rotate(180deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      color:white;\n      position: relative;\n      top:-30px;\n      transition:500ms all;\n      content: 'Info';\n      right:40px;\n      z-index:4;\n    }\n  }\n  button#showHideRight.hidden {\n    right:100%;\n    svg {\n      transform:rotate(0deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return Ie=function(){return e},e}var Ee=ae.a.div(Ie()),Re=function(){var e=Object(r.useState)(!0),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(O.c)((function(e){return e.sidebarData})),i=Object(O.c)((function(e){return e.currentData})),s=Object(O.c)((function(e){return e.cols})),l=function(e){return"".concat(e.slice(-2)[0],"/").concat(e.slice(-1)[0])};return Object(a.jsx)(Ee,{style:{transform:n?"translateX(100%)":""},children:Object(a.jsxs)("div",{className:"container",children:[c.properties&&Object(a.jsxs)("h2",{children:[c.properties.NAME,", ",c.properties.state_name]}),c.properties&&Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:["Population: ",c.properties.population.toLocaleString("en")]})}),c.cases&&c.deaths&&Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:["Total Cases: ",c.cases.slice(-1)[0].toLocaleString("en"),Object(a.jsx)("br",{}),"Total Deaths: ",c.deaths.slice(-1)[0].toLocaleString("en"),Object(a.jsx)("br",{}),"Cases per 100k Population: ",w(c.cases,null,c.cases.length-1,null,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths per 100k Population: ",w(c.deaths,null,c.deaths.length-1,null,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases per 100k Population: ",w(c.cases,null,c.cases.length-1,1,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths per 100k Population: ",w(c.deaths,null,c.deaths.length-1,1,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"Licensed Hospital Beds: ",c.properties.beds.toLocaleString("en"),Object(a.jsx)("br",{}),"Cases per Bed: ",w(c.cases,null,c.cases.length-1,null,c.properties,"beds",null,null,1).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{})]})}),c.chr_health_factors&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Community Health Factors"}),Object(a.jsxs)("p",{children:["Children in poverty %: ",c.chr_health_factors[A(s,i,"chr_health_factors","PovChldPrc")],Object(a.jsx)("br",{}),"Income inequality: ",c.chr_health_factors[A(s,i,"chr_health_factors","IncRt")],Object(a.jsx)("br",{}),"Median household income: ",c.chr_health_factors[A(s,i,"chr_health_factors","MedianHouseholdIncome")].toLocaleString("en"),Object(a.jsx)("br",{}),"Food insecurity %: ",c.chr_health_factors[A(s,i,"chr_health_factors","FdInsPrc")],Object(a.jsx)("br",{}),"Unemployment %: ",c.chr_health_factors[A(s,i,"chr_health_factors","UnEmplyPrc")],Object(a.jsx)("br",{}),"Uninsured %: ",c.chr_health_factors[A(s,i,"chr_health_factors","UnInPrc")],Object(a.jsx)("br",{}),"Primary care physicians: ",c.chr_health_factors[A(s,i,"chr_health_factors","PrmPhysRt")],Object(a.jsx)("br",{}),"Preventable hospital stays: ",c.chr_health_factors[A(s,i,"chr_health_factors","PrevHospRt")].toLocaleString("en"),Object(a.jsx)("br",{}),"Residential segregation-black/white: ",c.chr_health_factors[A(s,i,"chr_health_factors","RsiSgrBlckRt")],Object(a.jsx)("br",{}),"Severe housing problems %: ",c.chr_health_factors[A(s,i,"chr_health_factors","SvrHsngPrbRt")],Object(a.jsx)("br",{})]})]}),c.chr_health_context&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Community Health Context"}),Object(a.jsxs)("p",{children:["% 65 and older: ",c.chr_health_context[A(s,i,"chr_health_context","Over65YearsPrc")]," ",Object(a.jsx)("br",{}),"Adult obesity %: ",c.chr_health_context[A(s,i,"chr_health_context","AdObPrc")]," ",Object(a.jsx)("br",{}),"Diabetes prevalence %: ",c.chr_health_context[A(s,i,"chr_health_context","AdDibPrc")]," ",Object(a.jsx)("br",{}),"Adult smoking %: ",c.chr_health_context[A(s,i,"chr_health_context","SmkPrc")]," ",Object(a.jsx)("br",{}),"Excessive drinking %: ",c.chr_health_context[A(s,i,"chr_health_context","ExcDrkPrc")]," ",Object(a.jsx)("br",{}),"Drug overdose deaths: ",c.chr_health_context[A(s,i,"chr_health_context","DrOverdMrtRt")]||"0"," ",Object(a.jsx)("br",{})]})]}),c.chr_life&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Length and Quality of Life"}),Object(a.jsxs)("p",{children:["Life expectancy: ",c.chr_life[A(s,i,"chr_life","LfExpRt")]," ",Object(a.jsx)("br",{}),"Self-rated health %: ",c.chr_life[A(s,i,"chr_life","SlfHlthPrc")]," ",Object(a.jsx)("br",{})]})]}),c.predictions&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Predictions"}),Object(a.jsxs)("p",{children:["5-Day Severity Index: ",["","High","Medium","Low"][c.predictions[1]]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[2].split("_")),": ",c.predictions[2]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[4].split("_")),": ",c.predictions[4]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[6].split("_")),": ",c.predictions[6]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[8].split("_")),": ",c.predictions[8]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[10].split("_")),": ",c.predictions[10]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[12].split("_")),": ",c.predictions[12]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[14].split("_")),": ",c.predictions[14]," ",Object(a.jsx)("br",{})]})]}),c!=={}&&Object(a.jsx)("button",{onClick:function(){return o((function(e){return!e}))},id:"showHideRight",className:n?"hidden":"active",children:Object(a.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})})},Pe=n(627),Me=n(641),Ce=n(628),Ae=n(566),Le=n(626),Ne=n(642),Ve=n(631),He=n(635),Fe=n(638);function Ge(){var e=Object(Y.a)(["\n  width:100%;\n  .MuiFormControl-root {\n    width:45%;\n    min-width:60px;\n    margin-right:5px;\n  }\n"]);return Ge=function(){return e},e}function ze(){var e=Object(Y.a)(["\n  padding:0 0 40px 0!important;\n  color:white;\n  padding:0;\n  margin: 0 10px 40px 0;\n  .MuiInputBase-root {\n    font-family: 'Lato', sans-serif;\n  }\n  .MuiFormLabel-root {\n    color: white;\n    font-family: 'Lato', sans-serif;\n  }\n  .Mui-focused {\n    color: white !important;\n  }\n  .MuiInput-underline:before {\n    border-bottom:1px solid rgba(255,255, 255, 0.42);\n  }\n  .MuiInput-underline:after {\n    border-bottom: 2px solid white\n  }\n  .MuiInputBase-root {\n    color: white;\n    .MuiSvgIcon-root {\n      color: rgba(255,255,255,0.54);\n    },\n    .MuiPopover-paper {\n      color:white;\n    }\n  }\n  .MuiFormGroup-root {\n    .MuiFormControlLabel-root{\n      color:white;\n      span {\n        font-family: 'Lato', sans-serif;\n      }\n      .MuiRadio-root {\n        color: rgba(255,255,255,0.54);\n      }\n    }\n  }\n  .MuiRadio-root {\n    color:white;\n  }\n  .MuiRadio-colorSecondary.Mui-checked {\n    color:white;\n  }\n"]);return ze=function(){return e},e}function Be(){var e=Object(Y.a)(["\n  position:fixed;\n  left:0;\n  top:0;\n  height:100vh;\n  min-width:200px;\n  background-color: #2b2b2b;\n  box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color:white;\n  z-index:50;\n  p.note {\n    position: absolute;\n    bottom:100px;\n    width:calc(100% - 40px);\n    font-family: 'Lato', sans-serif;\n    font-weight:300;\n    font-size:90%;\n    a {\n      color:yellow;\n      text-decoration: none;\n    }\n  }\n  div.poweredByGeoda {\n    position: absolute;\n    bottom: 40px;\n    color:white;\n    width:100%;\n    text-align:center;\n    transform:translateX(-20px);\n    a {\n      color:white;\n      margin:0 auto;\n      text-decoration: none;\n      letter-spacing: 2px;\n      font-size:75%;\n      img {\n        width:23px;\n        height:27px;\n        transform: translate(-50%,40%);\n      }\n    }\n  }\n  button#showHideLeft {\n    position:absolute;\n    left:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: #2b2b2b;\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg { \n      padding:0;\n      margin:0;\n      fill:white;\n      transform:rotate(0deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      content: 'Variables';\n      color:white;\n      position: relative;\n      right:-50px;\n      top:-30px;\n      transition:500ms all;\n      z-index:4;\n    }\n  }\n  button#showHideLeft.hidden {\n    left:100%;\n    svg {\n      transform:rotate(180deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return Be=function(){return e},e}var Ue=ae.a.div(Be()),We=Object(ae.a)(Le.a)(ze()),Ye=ae.a.div(Ge()),Xe=function(e){var t=Object(O.b)(),n=Object(O.c)((function(e){return e.cols})),o=Object(O.c)((function(e){return e.currentData})),c=Object(O.c)((function(e){return e.currentVariable})),i=Object(O.c)((function(e){return e.mapParams})),s=Object(r.useState)(!1),l=Object(d.a)(s,2),u=l[0],p=l[1],h={"HEADER:cases":{},"Confirmed Count":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Confirmed Count per 100K Population":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},"Confirmed Count per Licensed Bed":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"beds",dRange:null,dIndex:null,scale:1},"HEADER:deaths":{},"Death Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Death Count per 100K Population":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},"Death Count / Confirmed Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"cases",dType:"time-series",dProperty:null,scale:1},"HEADER:community health":{},"Uninsured % (Community Health Factor)":{numerator:"chr_health_factors",nType:"characteristic",nProperty:A(n,o,"chr_health_factors","UnInPrc"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Over 65 Years % (Community Health Context)":{numerator:"chr_health_context",nType:"characteristic",nProperty:A(n,o,"chr_health_context","Over65YearsPrc"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Life expectancy (Length and Quality of Life)":{numerator:"chr_life",nType:"characteristic",nProperty:A(n,o,"chr_life","LfExpRt"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}},j={"HEADER:forecasting":{},"Forecasting (5-Day Severity Index)":{numerator:"predictions",nType:"characteristic",nProperty:A(n,o,"predictions","severity_index"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}},f={"HEADER:testing":{},"7 Day Testing Positivity Rate %":{numerator:"testing_wk_pos",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"7 Day Testing Capacity":{numerator:"testing_tcap",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"7 Day Confirmed Cases per Testing %":{numerator:"testing_ccpt",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}};return Object(a.jsxs)(Ue,{style:{transform:u?"translateX(-100%)":""},children:[Object(a.jsxs)("h2",{children:["Data Sources &",Object(a.jsx)("br",{})," Map Variables"]}),Object(a.jsxs)(We,{children:[Object(a.jsx)(Pe.a,{htmlFor:"data-select",children:"Data Source"}),Object(a.jsxs)(Ve.a,{id:"data-select",value:o,onChange:function(e){t(b(e.target.value))},children:[Object(a.jsx)(Ce.a,{children:"county data"}),Object(a.jsx)(Me.a,{value:"county_usfacts.geojson",children:"USA Facts"},"county_usfacts.geojson"),Object(a.jsx)(Me.a,{value:"county_nyt.geojson",children:"New York Times"},"county_nyt.geojson"),Object(a.jsx)(Me.a,{value:"county_1p3a.geojson",children:"1point3acres"},"county_1p3a.geojson"),Object(a.jsx)(Ce.a,{children:"state data"}),Object(a.jsx)(Me.a,{value:"state_1p3a.geojson",children:"1point3acres"},"state_1p3a.geojson"),Object(a.jsx)(Me.a,{value:"state_nyt.geojson",disabled:!0,children:"New York Times"},"state_nyt.geojson")]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(We,{children:[Object(a.jsx)(Pe.a,{htmlFor:"numerator-select",children:"Select Variable"}),Object(a.jsxs)(Ve.a,{value:c,id:"numerator-select",onChange:function(e){var n=e.target.value;t({type:"SET_VARIABLE_NAME",payload:{name:n}}),h.hasOwnProperty(n)?t(x(Object(W.a)({},h[n]))):j.hasOwnProperty(n)?t(x(Object(W.a)({},j[n]))):t(x(Object(W.a)({},f[n])))},children:[Object.keys(h).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Ce.a,{children:e.split(":")[1]}):Object(a.jsx)(Me.a,{value:e,children:e},e)})),o.includes("county")&&Object.keys(j).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Ce.a,{children:e.split(":")[1]}):Object(a.jsx)(Me.a,{value:e,children:e},e)})),o.includes("state")&&Object.keys(f).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(Ce.a,{children:e.split(":")[1]}):Object(a.jsx)(Me.a,{value:e,children:e},e)}))]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(We,{component:"fieldset",children:[Object(a.jsx)(Ae.a,{component:"legend",children:"Map Type"}),Object(a.jsxs)(Fe.a,{"aria-label":"maptype",name:"maptype1",onChange:function(e,n){t(g({nBins:"hinge15_breaks"===n?6:8,mapType:n}))},value:i.mapType,children:[Object(a.jsx)(Ne.a,{value:"natural_breaks",control:Object(a.jsx)(He.a,{}),label:"Choropleth"}),Object(a.jsx)(Ne.a,{value:"hinge15_breaks",control:Object(a.jsx)(He.a,{}),label:"Box Map"}),Object(a.jsx)(Ne.a,{value:"lisa",control:Object(a.jsx)(He.a,{}),label:"Local Moran"}),Object(a.jsx)(Ne.a,{value:"cartogram",control:Object(a.jsx)(He.a,{}),label:"Cartogram"})]})]}),Object(a.jsxs)(Ye,{children:[Object(a.jsxs)(We,{children:[Object(a.jsx)(Pe.a,{htmlFor:"overlay-select",children:"Overlay"}),Object(a.jsxs)(Ve.a,{id:"overlay-select",value:i.overlay,onChange:function(e){t(g({overlay:e.target.value}))},children:[Object(a.jsx)(Me.a,{value:"",children:"None"},"None"),Object(a.jsx)(Me.a,{value:"native_american_reservations",children:"Native American Reservations"},"variable1"),Object(a.jsx)(Me.a,{value:"hypersegregated_cities",children:"Hypersegregated Cities"},"variable2"),Object(a.jsx)(Me.a,{value:"black_belt_counties",children:"Black Belt Counties"},"variable3"),Object(a.jsx)(Me.a,{value:"us_congressional_districts",children:"US Congressional Districts"},"variable4")]})]}),Object(a.jsxs)(We,{children:[Object(a.jsx)(Pe.a,{htmlFor:"resource-select",children:"Resource"}),Object(a.jsxs)(Ve.a,{id:"resource-select",value:i.resource,onChange:function(e){t(g({resource:e.target.value}))},children:[Object(a.jsx)(Me.a,{value:"",children:"None"},"None"),Object(a.jsx)(Me.a,{value:"clinics_hospitals",children:"Clinics and Hospitals"},"variable1"),Object(a.jsx)(Me.a,{value:"clinics",children:"Clinics"},"variable2"),Object(a.jsx)(Me.a,{value:"hospitals",children:"Hospitals"},"variable3")]})]})]}),Object(a.jsxs)("p",{className:"note",children:["Data is updated with freshest available data at 3pm CST daily, at minimum. In case of data discrepancy, local health departments are considered most accurate as per CDC recommendations. More information on ",Object(a.jsx)("a",{href:"data.html",children:"data"}),", ",Object(a.jsx)("a",{href:"methods.html",children:"methods"}),", and ",Object(a.jsx)("a",{href:"FAQ.html",children:"FAQ"})," at main site."]}),Object(a.jsx)("div",{className:"poweredByGeoda",children:Object(a.jsxs)("a",{href:"https://geodacenter.github.io",target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("img",{src:"".concat(".","/assets/img/geoda-logo.png")}),"POWERED BY GEODA"]})}),Object(a.jsx)("button",{onClick:function(){return p((function(e){return!e}))},id:"showHideLeft",className:u?"hidden":"active",children:Object(a.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})},Ke=n(109),Je=n(629);function Qe(){var e=Object(Y.a)(["\n    p {\n        display: inline;\n        color:white;\n    }\n    span.MuiSwitch-track {\n        background-color:#ddd;\n    }\n    .Mui-checked {\n        color:yellow;\n    }\n    .Mui-checked + .MuiSwitch-track {\n        background-color: yellow;\n    }\n    .MuiSwitch-colorSecondary:hover {\n        background-color:rgba(255,255,0,0.05);\n    }\n"]);return Qe=function(){return e},e}var qe=Object(ae.a)(he.a)(Qe()),Ze=function(){var e=Object(O.c)((function(e){return e.chartData})),t=Object(O.c)((function(e){return e.dataParams})),n=Object(r.useState)(!1),o=Object(d.a)(n,2),c=o[0],i=o[1];return Object(a.jsxs)(he.a,{container:!0,spacing:2,id:"main-chart-container",children:[Object(a.jsx)(he.a,{item:!0,xs:10,style:{height:"20vh"},children:Object(a.jsx)(Ke.d,{width:"100%",height:"100%",children:Object(a.jsxs)(Ke.b,{data:e,margin:{top:0,right:10,left:45,bottom:20},children:[Object(a.jsx)(Ke.f,{dataKey:"date"}),Object(a.jsx)(Ke.g,{type:"number",dataKey:"count",scale:c?"log":"linear",domain:["auto","auto"]}),Object(a.jsx)(Ke.e,{}),Object(a.jsx)(Ke.c,{x1:function(e,t,n){if(null===e)try{return n.slice(0,1)[0].date}catch(a){return null}else try{return n[t-e].date}catch(r){return null}}(t.nRange,t.nIndex,e),x2:function(e,t){try{return t[e].date}catch(n){return null}}(t.nIndex,e),fill:"white",fillOpacity:.15,isAnimationActive:!1}),Object(a.jsx)(Ke.a,{type:"monotone",dataKey:"count",stroke:"#ff0000",dot:!1})]})})}),Object(a.jsxs)(qe,{item:!0,xs:2,children:[Object(a.jsx)(Je.a,{checked:c,onChange:function(){i((function(e){return!e}))},name:"log chart switch",inputProps:{"aria-label":"secondary checkbox"}}),Object(a.jsx)("p",{children:c?"Log Scale":"Linear Scale"})]})]})};var $e=function(){var e=Object(O.c)((function(e){return e.storedData})),t=Object(O.c)((function(e){return e.storedGeojson})),n=Object(O.c)((function(e){return e.storedLisaData})),o=Object(O.c)((function(e){return e.currentData})),c=Object(O.c)((function(e){return e.currentVariable})),i=Object(O.c)((function(e){return e.cols})),m=Object(O.c)((function(e){return e.dates})),y=Object(O.c)((function(e){return e.mapParams})),_=Object(O.c)((function(e){return e.dataParams})),w=(Object(O.c)((function(e){return e.chartData})),Object(O.c)((function(e){return e.startDateIndex}))),T=Object(r.useState)(null),k=Object(d.a)(T,2),S=k[0],I=k[1],E=Object(O.b)(),P=function(e,t){for(var n={},a=0;a<e.length;a++)n[t[a]]=e[a][1];return n};function A(e,t,n,a,r,o){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(s.a.mark((function e(t,n,a,r,o,c){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.map((function(e){return R("".concat(".","/csv/").concat(e,".csv"),a[1],o.includes(e)).then((function(e){return e}))})),Promise.all([D("".concat(".","/geojson/").concat(t),c)].concat(Object(l.a)(i))).then((function(e){E(h(e[0].geoidIndex,t));var n=M(e[0].data,a[0],e.slice(1),r,a[1]);E(p(n,t)),E(b(t)),E(j(P(e.slice(1),r),t))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function e(){setTimeout((function(){void 0===window.Module?e():null===S&&I(new v)}),100)}()}),[window.Module]),Object(r.useEffect)((function(){null!==S&&""===o&&A("county_usfacts.geojson",["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],["GEOID","FIPS"],["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],[],S)}),[S]),Object(r.useEffect)((function(){null!==S&&""!==o&&void 0===e[o]&&A(ne[o].geojson,ne[o].csv,ne[o].joinCols,ne[o].tableNames,ne[o].accumulate,S)}),[o]),Object(r.useEffect)((function(){""!=o&&(m.hasOwnProperty(o)||(function(e,t){E({type:"SET_CENTROIDS",payload:{data:t.GetCentroids(e),name:e}})}(o,S),function(e,t,n){var a=L(e[t]);E(function(e,t){return{type:"SET_DATES",payload:{data:e,name:t}}}(a[0],n)),E(f(a[0].slice(-1)[0])),E(x({nIndex:C(e,t,a[0].slice(-1)[0])})),E({type:"SET_START_DATE_INDEX",payload:{index:a[1]}})}(i[o],"cases",o)))}),[i]),Object(r.useEffect)((function(){e[o]&&E({type:"SET_CHART_DATA",payload:{data:V(e[o],"cases",w,m[o])}})}),[w]),Object(r.useEffect)((function(){if(null!==S&&"lisa"===y.mapType){var a=z(o,_);n.hasOwnProperty(a)||E({type:"SET_STORED_LISA_DATA",payload:{data:G(S,o,H(e[o],_.numerator,_.nType,_.nProperty,_.nIndex,_.nRange,_.denominator,_.dType,_.dProperty,_.dIndex,_.dRange,_.scale,t[o].indexOrder)),name:a}})}}),[_,y]),Object(r.useEffect)((function(){if(null!==S&&""!==o&&"lisa"!==y.mapType)if(null!==y.fixedScale)E(g({bins:te[y.fixedScale],colorScale:ee[y.fixedScale]}));else{var t=S.custom_breaks(o,y.mapType,y.nBins,null,N(e[o],_.numerator,_.nType,_.nProperty,"dynamic"===y.binMode?_.nIndex:null,_.nRange,_.denominator,_.dType,_.dProperty,"dynamic"===y.binMode?_.dIndex:null,_.dRange,_.scale));E(g({bins:{bins:"natural_breaks"===y.mapType?t.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(l.a)(t.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:ee[y.mapType]}))}}),[m,_.numerator,_.nProperty,_.nRange,_.denominator,_.dProperty,_.dRange,_.scale,y.mapType]),Object(r.useEffect)((function(){if(null!==S&&"dynamic"===y.binMode&&""!==o&&"lisa"!==y.mapType){var t=S.custom_breaks(o,y.mapType,y.nBins.null,N(e[o],_.numerator,_.nType,_.nProperty,_.nIndex,_.nRange,_.denominator,_.dType,_.dProperty,_.dIndex,_.dRange,_.scale));E(g({bins:{bins:"natural_breaks"===y.mapType?t.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(l.a)(t.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:ee[y.mapType]}))}}),[_.nIndex,_.dIndex]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(pe,{}),Object(a.jsx)(Xe,{}),Object(a.jsx)(Re,{}),Object(a.jsxs)("div",{id:"bottom-drawer",children:[Object(a.jsx)(Se,{labels:y.bins.bins,title:c,colors:y.colorScale,binType:y.mapType}),Object(a.jsx)("hr",{}),Object(a.jsx)(Ze,{}),Object(a.jsx)(De,{})]})]})},et=n(175),tt={geodaProxy:null,storedData:{},storedGeojson:{},storedLisaData:{},storedCSV:{},cols:{},currentData:"",chartData:[{}],centroids:{},dates:{},currDate:"",currDateIndex:"",startDateIndex:"",currentVariable:"Confirmed Count per 100K Population",currentMethod:"natural_breaks",currentOverlay:"",currentResource:"",dataParams:{numerator:"cases",nType:"time-series",nProperty:null,nRange:7,nIndex:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},mapParams:{mapType:"natural_breaks",bins:{bins:[],breaks:[]},binMode:"",fixedScale:null,nBins:8,use3d:!1,activeGeoid:"",overlay:"",resource:"",colorScale:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]]},storedRange:null,currentGeoid:"",sidebarData:{}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GEOID":return Object(W.a)(Object(W.a)({},e),{},{currentGeoid:t.payload.geoid});case"SET_STORED_DATA":var n=Object(W.a)({},e.storedData);return n[t.payload.name]=t.payload.data,Object(W.a)(Object(W.a)({},e),{},{storedData:n});case"SET_STORED_GEOJSON":var a=Object(W.a)({},e.storedGeojson);return a[t.payload.name]=t.payload.data,Object(W.a)(Object(W.a)({},e),{},{storedGeojson:a});case"SET_STORED_LISA_DATA":var r=Object(W.a)({},e.storedLisaData);return r[t.payload.name]=t.payload.data,Object(W.a)(Object(W.a)({},e),{},{storedLisaData:r});case"SET_CENTROIDS":var o=Object(W.a)({},e.centroids);return o[t.payload.name]=t.payload.data,Object(W.a)(Object(W.a)({},e),{},{centroids:o});case"SET_CURRENT_DATA":return Object(W.a)(Object(W.a)({},e),{},{currentData:t.payload.data});case"SET_GEODA_PROXY":return Object(W.a)(Object(W.a)({},e),{},{geodaProxy:t.payload.proxy});case"SET_DATES":var c=Object(W.a)({},e.dates);return c[t.payload.name]=t.payload.data,Object(W.a)(Object(W.a)({},e),{},{dates:c});case"SET_DATA_FUNCTION":return Object(W.a)(Object(W.a)({},e),{},{currentDataFn:t.payload.fn});case"SET_COLUMN_NAMES":var i=Object(W.a)({},e.cols);return i[t.payload.name]=t.payload.data,Object(W.a)(Object(W.a)({},e),{},{cols:i});case"SET_CURR_DATE":return Object(W.a)(Object(W.a)({},e),{},{currDate:t.payload.date});case"SET_DATE_INDEX":return Object(W.a)(Object(W.a)({},e),{},{currDateIndex:t.payload.index});case"SET_START_DATE_INDEX":return Object(W.a)(Object(W.a)({},e),{},{startDateIndex:t.payload.index});case"SET_BINS":var s={};return s.bins=t.payload.bins,s.breaks=t.payload.breaks,Object(W.a)(Object(W.a)({},e),{},{bins:s});case"SET_3D":return Object(W.a)(Object(W.a)({},e),{},{use3D:!e.use3D});case"SET_DATA_SIDEBAR":return Object(W.a)(Object(W.a)({},e),{},{sidebarData:t.payload.data});case"INCREMENT_DATE":var l=Object(W.a)({},e.dataParams);return t.payload.index+e.dataParams.nIndex>e.dates[e.currentData].length?(l.nIndex=e.startDateIndex,l.dIndex=e.startDateIndex,Object(W.a)(Object(W.a)({},e),{},{dataParams:l})):(l.nIndex=l.nIndex+t.payload.index,l.dIndex=l.dIndex+t.payload.index,Object(W.a)(Object(W.a)({},e),{},{dataParams:l}));case"SET_VARIABLE_PARAMS":var u=Object(W.a)(Object(W.a)({},e.dataParams),t.payload.params);return"time-series"===u.nType&&null===u.nIndex&&(u.nIndex=e.storedIndex,u.nRange=e.storedRange),"time-series"===u.dType&&null===u.dIndex&&(u.dIndex=e.storedIndex,u.dRange=e.storedRange),"characteristic"===u.nType&&"time-series"===e.dataParams.nType?Object(W.a)(Object(W.a)({},e),{},{storedIndex:e.dataParams.nIndex,storedRange:e.dataParams.nRange,dataParams:u}):Object(W.a)(Object(W.a)({},e),{},{dataParams:u});case"SET_MAP_PARAMS":var d=Object(W.a)(Object(W.a)({},e.mapParams),t.payload.params);return Object(W.a)(Object(W.a)({},e),{},{mapParams:d});case"SET_VARIABLE_NAME":return Object(W.a)(Object(W.a)({},e),{},{currentVariable:t.payload.name});case"SET_CHART_DATA":return Object(W.a)(Object(W.a)({},e),{},{chartData:t.payload.data});default:return e}},at=(n(561),n(322)),rt=n.n(at),ot=Object(et.b)(nt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());rt.a.load({google:{families:["Lato:300,400,700,900","Montserrat:400,600,800","Playfair Display:ital","sans-serif"]}}),c.a.render(Object(a.jsx)(O.a,{store:ot,children:Object(a.jsx)($e,{})}),document.getElementById("root"))}},[[562,1,2]]]);
//# sourceMappingURL=main.72abd037.chunk.js.map