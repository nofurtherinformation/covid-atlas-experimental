(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{246:function(e,t){},320:function(e){e.exports=JSON.parse('{"version":8,"name":"Experimental - Clean \\\\","metadata":{"mapbox:type":"default","mapbox:origin":"basic-v1","mapbox:sdk-support":{"js":"1.9.0","android":"8.6.0","ios":"5.6.0"},"mapbox:autocomposite":true,"mapbox:groups":{"Administrative boundaries, admin":{"name":"Administrative boundaries, admin","collapsed":true},"Natural features, natural-labels":{"name":"Natural features, natural-labels","collapsed":true},"Place labels, place-labels":{"name":"Place labels, place-labels","collapsed":false},"Point of interest labels, poi-labels":{"name":"Point of interest labels, poi-labels","collapsed":true}},"mapbox:uiParadigm":"layers","mapbox:decompiler":{"id":"ckhxm4ot50yk919pj8witkk2d","componentVersion":"3.0.0","strata":[{"id":"basic-v1","order":["admin-1-boundary-bg","admin-0-boundary-bg","admin-1-boundary","admin-0-boundary","admin-0-boundary-disputed","waterway-label","natural-line-label","natural-point-label","water-line-label","water-point-label","poi-label","settlement-minor-label","settlement-major-label","state-label","uscongress","hospitals"]}]}},"center":[-96.38621628026743,42.006438147652375],"zoom":4.801038256974055,"bearing":0,"pitch":0,"sources":{"composite":{"url":"mapbox://lixun910.2hah9aqq,mapbox.mapbox-streets-v8,lixun910.5bmq1hai","type":"vector"}},"sprite":"mapbox://sprites/lixun910/ckhxm4ot50yk919pj8witkk2d/ei6q81b5ywryaykkp3eopmi80","glyphs":"mapbox://fonts/lixun910/{fontstack}/{range}.pbf","layers":[{"id":"admin-1-boundary-bg","type":"line","source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"bevel"},"paint":{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(216, 36%, 16%)",16,"rgb(52, 52, 52)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,0.75],"line-dasharray":[1,0],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{"id":"admin-0-boundary-bg","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{},"paint":{"line-width":["interpolate",["linear"],["zoom"],3,3.5,10,8],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(216, 36%, 16%)",8,"rgb(52, 52, 52)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,0.5],"line-translate":[0,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{"id":"admin-1-boundary","type":"line","source":"composite","source-layer":"admin","filter":["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,1,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"rgb(196, 196, 196)",7,"rgb(158, 158, 158)"]}},{"id":"admin-0-boundary","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round","line-cap":"round"},"paint":{"line-color":"rgb(130, 130, 130)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":[10,0]}},{"id":"admin-0-boundary-disputed","type":"line","source":"composite","source-layer":"admin","minzoom":1,"filter":["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],true,false]],"layout":{"line-join":"round"},"paint":{"line-color":"rgb(130, 130, 130)","line-width":["interpolate",["linear"],["zoom"],3,0.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{"id":"waterway-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":13,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["canal","river","stream","disputed_canal","disputed_river","disputed_stream"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["canal","river","stream"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"text-font":["Lato Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":"hsl(197, 16%, 90%)"}},{"id":"natural-line-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["glacier","landform","disputed_glacier","disputed_landform"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["glacier","landform"],true,false]],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},"paint":{"text-halo-width":0.5,"text-halo-color":"hsl(216, 43%, 0%)","text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(184, 2%, 91%)",5,"hsl(184, 7%, 81%)"],17,["step",["get","sizerank"],"hsl(184, 2%, 91%)",13,"hsl(184, 7%, 81%)"]]}},{"id":"natural-point-label","type":"symbol","source":"composite","source-layer":"natural_label","minzoom":4,"filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland","disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],true,false]],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(216, 43%, 0%)","text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(184, 2%, 91%)",5,"hsl(184, 7%, 81%)"],17,["step",["get","sizerank"],"hsl(184, 2%, 91%)",13,"hsl(184, 7%, 81%)"]]}},{"id":"water-line-label","type":"symbol","source":"composite","source-layer":"natural_label","filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false]],["==",["geometry-type"],"LineString"]],"layout":{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12],18,["step",["get","sizerank"],18,9,16]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",0.25,["sea","bay"],0.15,0],"text-font":["Lato Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 44%, 26%)","hsl(197, 16%, 90%)"]}},{"id":"water-point-label","type":"symbol","source":"composite","source-layer":"natural_label","filter":["all",["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["bay","ocean","reservoir","sea","water","disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],true,false],["match",["get","worldview"],["all","US"],true,false]],["match",["get","class"],["bay","ocean","reservoir","sea","water"],true,false]],["==",["geometry-type"],"Point"]],"layout":{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],24,6,18,12,12],10,["step",["get","sizerank"],18,9,12]],"text-font":["Lato Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",0.25,["bay","sea"],0.15,0.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},"paint":{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(197, 44%, 26%)","hsl(197, 16%, 90%)"]}},{"id":"poi-label","type":"symbol","source":"composite","source-layer":"poi_label","minzoom":6,"filter":["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],0]],"layout":{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["step",["zoom"],["concat",["get","maki"],"-11"],15,["concat",["get","maki"],"-15"]],"text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,0.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,0.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},"paint":{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(170, 42%, 0%)","education","hsl(213, 38%, 0%)","medical","hsl(204, 24%, 5%)","hsl(216, 43%, 0%)"],"text-halo-width":0.5,"text-halo-blur":0.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(180, 15%, 100%)","park_like","hsl(107, 1%, 84%)","education","hsl(213, 11%, 100%)","medical","hsl(204, 6%, 100%)","hsl(184, 2%, 91%)"],5,["match",["get","class"],"food_and_drink","hsl(180, 24%, 87%)","park_like","hsl(107, 0%, 73%)","education","hsl(213, 27%, 100%)","medical","hsl(204, 7%, 100%)","hsl(184, 7%, 81%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(180, 15%, 100%)","park_like","hsl(107, 1%, 84%)","education","hsl(213, 11%, 100%)","medical","hsl(204, 6%, 100%)","hsl(184, 2%, 91%)"],13,["match",["get","class"],"food_and_drink","hsl(180, 24%, 87%)","park_like","hsl(107, 0%, 73%)","education","hsl(213, 27%, 100%)","medical","hsl(204, 7%, 100%)","hsl(184, 7%, 81%)"]]]}},{"id":"settlement-minor-label","type":"symbol","source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],4],["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["settlement","disputed_settlement"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"settlement"]],["step",["zoom"],true,8,[">=",["get","symbolrank"],11],10,[">=",["get","symbolrank"],12],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],"layout":{"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],3,["step",["get","symbolrank"],13.200000000000001,9,12.100000000000001,10,11.55,12,10.450000000000001,14,9.350000000000001,16,7.15,17,4.4],13,["step",["get","symbolrank"],27.500000000000004,9,25.3,10,23.1,11,20.900000000000002,12,19.8,13,18.700000000000003,15,16.5]],"icon-image":"","text-font":["Lato Bold","Arial Unicode MS Regular"],"text-padding":["interpolate",["linear"],["zoom"],0,50,10,5],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7},"paint":{"text-halo-color":"hsl(216, 0%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":0.5}},{"id":"settlement-major-label","type":"symbol","source":"composite","source-layer":"place_label","maxzoom":15,"filter":["all",["<=",["get","filterrank"],4],["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["settlement","disputed_settlement"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"settlement"]],["step",["zoom"],false,8,["<",["get","symbolrank"],11],10,["<",["get","symbolrank"],12],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],13]]],"layout":{"icon-image":"","text-font":["Lato Bold","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["literal",[0,0]],8,["literal",[0,0]]],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",0.2,0,0.9,1],["zoom"],8,["step",["get","symbolrank"],30.599999999999998,9,28.9,10,25.5],15,["step",["get","symbolrank"],47.6,9,44.199999999999996,10,39.1,11,35.699999999999996,12,34,13,32.3,15,27.2]]},"paint":{"text-halo-color":"hsla(0, 0%, 100%, 0.63)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{"id":"state-label","type":"symbol","source":"composite","source-layer":"place_label","minzoom":3,"maxzoom":9,"filter":["case",["==",["get","disputed"],"true"],["all",["match",["get","class"],["state","disputed_state"],true,false],["match",["get","worldview"],["all","US"],true,false]],["==",["get","class"],"state"]],"layout":{"text-size":["interpolate",["cubic-bezier",0.85,0.7,0.65,1],["zoom"],4,["step",["get","symbolrank"],13,6,12.35,7,11.700000000000001],9,["step",["get","symbolrank"],31.200000000000003,6,23.400000000000002,7,18.2]],"text-transform":"uppercase","text-font":["Lato Black","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":0.15,"text-max-width":6},"paint":{"text-color":"rgb(0, 0, 0)","text-halo-color":"hsl(216, 43%, 100%)","text-halo-width":1}},{"id":"uscongress","type":"symbol","source":"composite","source-layer":"district_centroids-c05zce","layout":{"text-field":["concat",["to-string",["get","State Code"]],"-",["get","District"]],"text-font":["Open Sans Condensed Bold","Arial Unicode MS Regular"],"text-size":["interpolate",["linear"],["zoom"],5,10,8,36],"visibility":"none"},"paint":{"text-color":"hsl(0, 0%, 100%)"}}],"created":"2020-11-25T16:18:56.139Z","modified":"2020-11-25T16:28:40.413Z","id":"ckhxm4ot50yk919pj8witkk2d","owner":"lixun910","visibility":"private","draft":false}')},431:function(e,t){},610:function(e,t,n){},611:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(1),o=n(46),i=n.n(o),c=n(63),l=n.n(c),s=n(209),d=n(82),u=n(56),p=function(e,t){return{type:"SET_STORED_DATA",payload:{data:e,name:t}}},h=function(e,t){return{type:"SET_STORED_GEOJSON",payload:{data:e,name:t}}},b=function(e){return{type:"SET_CURRENT_DATA",payload:{data:e}}},g=function(e,t){return{type:"SET_COLUMN_NAMES",payload:{data:e,name:t}}},m=function(e){return{type:"SET_CURR_DATE",payload:{date:e}}},j=function(e){return{type:"SET_VARIABLE_PARAMS",payload:{params:e}}},f=function(e){return{type:"SET_MAP_PARAMS",payload:{params:e}}},x=function(e){return{type:"SET_ANCHOR_EL",payload:{anchorEl:e}}},y=function(e){return{type:"SET_PANELS",payload:{params:e}}},O=n(21),v=n(315),_=n(316);window.Module;function w(e){return Number(e)===e&&e%1===0}var k=function(){function e(){Object(v.a)(this,e),this.geojson_maps={}}return Object(_.a)(e,[{key:"ReadGeojsonMap",value:function(e,t){var n=new Uint8Array(t.result),a=window.Module._malloc(n.length);window.Module.HEAPU8.set(n,a),window.Module.ccall("new_geojsonmap1",null,["string","number","number"],[e,a,n.length]),window.Module._free(a);var r=window.Module.get_map_type(e);return this.geojson_maps[e]=r,e}},{key:"Has",value:function(e){return e in this.geojson_maps}},{key:"List",value:function(){return this.geojson_maps}},{key:"GetCentroids",value:function(e){for(var t=window.Module.get_centroids(e),n=t.get_x(),a=t.get_y(),r=[],o=0;o<n.size();++o)r.push([n.get(o),a.get(o)]);return r}},{key:"GetNumObs",value:function(e){return window.Module.get_num_obs(e)}},{key:"GetMapType",value:function(e){return this.geojson_maps[e]}},{key:"GetNumericCol",value:function(e,t){return window.Module.get_numeric_col(e,t)}},{key:"CreateRookWeights",value:function(e,t,n,a){return window.Module.rook_weights(e,t,n,a)}},{key:"CreateQueenWeights",value:function(e,t,n,a){return window.Module.queen_weights(e,t,n,a)}},{key:"GetMinDistThreshold",value:function(e,t,n){return window.Module.min_distance_threshold(e,t,n)}},{key:"CreateKnnWeights",value:function(e,t,n,a,r,o){return window.Module.knn_weights(e,t,n,a,r,o)}},{key:"CreateDistWeights",value:function(e,t,n,a,r,o){return window.Module.dist_weights(e,t,n,a,r,o)}},{key:"CreateKernelWeights",value:function(e,t,n,a,r,o,i){return window.Module.kernel_weights(e,t,n,a,r,o,i)}},{key:"CreateKernelBandwidthWeights",value:function(e,t,n,a,r,o){return window.Module.kernel_bandwidth_weights(e,t,n,a,r,o)}},{key:"local_moran",value:function(e,t,n){return window.Module.local_moran(e,t,n)}},{key:"local_moran1",value:function(e,t,n){return window.Module.local_moran1(e,t,this.toVecDouble(n))}},{key:"local_g",value:function(e,t,n){return window.Module.local_g(e,t,n)}},{key:"local_gstar",value:function(e,t,n){return window.Module.local_gstar(e,t,n)}},{key:"local_geary",value:function(e,t,n){return window.Module.local_geary(e,t,n)}},{key:"local_joincount",value:function(e,t,n){return window.Module.local_joincount(e,t,n)}},{key:"GetNeighbors",value:function(e,t,n){var a=window.Module.get_neighbors(e,t,n);return this.parseVecInt(a)}},{key:"parseVecInt",value:function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t}},{key:"parseVecVecInt",value:function(e){for(var t=[],n=0;n<e.size();++n){for(var a=[],r=e.get(n),o=0;o<r.size();++o)a.push(r.get(o));t.push(a)}return t}},{key:"parseVecDouble",value:function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t}},{key:"toVecString",value:function(e){for(var t=new window.Module.VectorString,n=0;n<e.length;++n)t.push_back(e[n]);return t}},{key:"toVecDouble",value:function(e){for(var t=new window.Module.VectorDouble,n=0;n<e.length;++n)isNaN(e[n])||e[n]==1/0?t.push_back(0):t.push_back(e[n]);return t}},{key:"redcap",value:function(e,t,n,a,r,o,i){var c=this.toVecString(a),l=window.Module.redcap(e,t,n,c,r,o,i);return this.parseVecVecInt(l)}},{key:"maxp",value:function(e,t,n,a,r,o,i,c,l,s){var d=this.toVecString(a),u=window.Module.maxp(e,t,d,r,o,c,l,i,n,s);return this.parseVecVecInt(u)}},{key:"custom_breaks",value:function(e,t,n,a,r){var o;o=null==a?window.Module.custom_breaks1(e,n,t,this.toVecDouble(r)):window.Module.custom_breaks(e,n,a,t);for(var i=this.parseVecDouble(o),c=i,l=[],s=[],d=0;d<i.length;++d){s.push([]);var u=w(i[d])?i[d]:i[d].toFixed(2);l.push(""+u)}s.push([]);var p=i[i.length-1];void 0!=p&&(p=w(p)?p:p.toFixed(2),l.push(">"+p)),i.unshift(Number.NEGATIVE_INFINITY),i.push(Number.POSITIVE_INFINITY);for(var h=0;h<r.length;++h)for(var b=r[h],g=0;g<i.length-1;++g){var m=i[g],j=i[g+1];if(b>=m&&b<j){s[g].push(h);break}}for(var f=0;f<l.length;++f);return{k:n,bins:l,breaks:c,id_array:s}}},{key:"cartogram",value:function(e,t){for(var n=window.Module.cartogram(e,this.toVecDouble(t)),a=n.get_x(),r=n.get_y(),o=n.get_radius(),i=a.get(0),c=a.get(0),l=r.get(0),s=r.get(0),d=0;d<a.size();++d)i>a.get(d)&&(i=a.get(d)),c<a.get(d)&&(c=a.get(d)),l>r.get(d)&&(l=r.get(d)),s<r.get(d)&&(s=r.get(d));for(var u=100/(c-i),p=45/(s-l),h=[],b=0;b<a.size();++b){a.get(b),r.get(b);h.push({properties:{id:b},position:[a.get(b)/1e4,r.get(b)/1e4],radius:o.get(b)})}return h}}]),e}(),S=function(e,t,n,a,r,o,i,c,l){return void 0===e?0:null===o&&null===a?(e[t]||e[n])*l:null===o&&null!==a?(e[n]-e[n-a])/a*l:null!==o&&null===a?(e[t]||e[n])/(r[o]||r[i])*l:null!==o&&null!==a&&null===c?(e[n]-e[n-a])/a/(r[o]||r[i])*l:null!==o&&null!==a&&null!==c?(e[n]-e[n-a])/a/((r[i]-r[i-c])/c)*l:0},T=function(e,t,n,a){if("natural_breaks"===a){if(0==e)return n[0];for(var r=1;r<t.length;r++)if(e<t[r])return n[r];return n[0]}if(a.includes("hinge")){for(var o=1;o<t.length;o++)if(e<t[o])return n[o-1];return n[0]}},D=n(240);function E(){return(E=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){var a=e.clone();return X(a,t,n),e.json()})).then((function(e){return{data:e,geoidIndex:K(e.features)}}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e,t){return E.apply(this,arguments)},I=n(687),z=n(660);function R(){return(R=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){return I.a(e,z.a)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){return R.apply(this,arguments)};function M(){return(M=Object(d.a)(l.a.mark((function e(t,n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){var t=I.a(e,z.a),r={},o=t.length;if(a)for(var i=B(Object.keys(t[0]))[1];o>0;){o--;for(var c=Object.values(t[o]),l=[],s=i,d=0;s<c.length;)s===i?l.push(c[s]):(l.push(c[s]+l[d]),d++),s++;for(var u=0;u<i;u++)l.unshift(c[u]);r[t[o][n]]=l}else for(;o>0;)r[t[--o][n]]=Object.values(t[o]);return[r,Object.keys(t[0])]}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e,t,n){return M.apply(this,arguments)},L=function(e,t,n,a,r){var o={},i={},c=(Object.keys(e.features[0]).length,e.features.length),l=parseInt(e.features[0].properties[t]);if(Number.isInteger(l))for(;c>0;)c--,o[parseInt(e.features[c].properties[t])]=e.features[c],i[parseInt(e.features[c].properties[t])]={};else for(;c>0;)c--,o[e.features[c].properties[t]]=e.features[c],i[e.features[c].properties[t]]={};for(var s=n.length;s>0;){s--;var d=Object.keys(n[s][0]);for(c=d.length;c>0;){c--;try{i[d[c]][a[s]]=n[s][0][d[c]]}catch(g){}}}for(var u=Object(D.merge)(o,i),p=[],h=Object.keys(u),b=0;b<h.length;b++)p.push(u[h[b]]);return p},N=function(e,t,n){return e[t].indexOf(n)},F=function(e,t,n,a){try{return e[t][n].indexOf(a)}catch(r){return null}},B=function(e){for(var t=0;t<e.length;t++)if(Date.parse(e[t]))return[e.slice(t),t]},H=function(e,t,n,a,r,o,i,c,l,s,d,u){var p=performance.now(),h=[],b=e.length;if(null===r&&null===a)for(var g=e[0][t].length-1,m="time-series"===c?e[0][i].length-1:s;b>0;)b--,h.unshift(S(e[b][t],a,g,o,e[b][i],l,m,d,u));else for(;b>0;)b--,h.unshift(S(e[b][t],a,r,o,e[b][i],l,s,d,u));return console.log(performance.now()-p),h},U=function(e,t,n,a){for(var r=performance.now(),o=Object.keys(e),i=n,c=[],l=-1;i<e[o[0]][t].length;){for(var s={},d=0,u=0;u<o.length;)void 0!==e[o[u]][t]&&(d+=e[o[u]][t][i]),u++;s.count=d,s.date=a[i-n],s.dailyNew=-1===l?d:d-c[l].count,c.push(s),i++,l++}return console.log(performance.now()-r),c},V=function(e,t,n,a,r,o,i,c,l,s,d,u,p){var h=performance.now(),b={},g=e.length;if(null===r&&null===a)for(var m=e[0][t].length-1,j="time-series"===c?e[0][i].length-1:s;g>0;)b[e[--g].properties.GEOID]=S(e[g][t],a,m,o,e[g][i],l,j,d,u);else for(;g>0;)b[e[--g].properties.GEOID]=S(e[g][t],a,r,o,e[g][i],l,s,d,u);var f=[];g=0;for(var x=Object.keys(p);g<x.length;)f.push(b[p[x[g]]]),g++;return console.log(performance.now()-h),f},G=function(e,t){var n=e.CreateQueenWeights(t,1,0,0);return{map_uuid:t,w:n,w_uuid:n.get_uid()}},W=function(e,t,n,a){for(var r=G(e,t),o=!0,i=0;i<n.length;++i)0!=n[i]&&(o=!1);var c=[],l=[];if(o)for(var s=0;s<n.length;++s)c.push(0),l.push(0);else{var d=e.local_moran1(r.map_uuid,r.w_uuid,n);c=e.parseVecDouble(d.clusters()),l=e.parseVecDouble(d.significances())}return c},Y=function(e,t){return"".concat(e,"-").concat(t.numerator,"-").concat(t.nIndex,"-").concat(t.nRange,"-").concat(t.denominator,"-").concat(t.dProperty,"-").concat(t.dIndex,"-").concat(t.dRange,"-").concat(t.scale)},K=function(e){for(var t={},n={},a=0;a<e.length;)t[e[a].properties.GEOID]=a,n[a]=e[a].properties.GEOID,a++;return{geoidOrder:t,indexOrder:n}},X=function(){var e=Object(d.a)(l.a.mark((function e(t,n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:r=e.sent,a.ReadGeojsonMap(n.split("/").slice(-1)[0],{result:r});case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),q=function(e,t,n){for(var a=e.cartogram(t,n),r={},o=0;o<a.length;o++)a[o].value=n[o],r[o]=a[o];return r},J=n(16),Q=n(38),Z=n(39),$=n(317),ee=n(677),te=n(685),ne=n(324),ae=n(661),re=n(688),oe=n(683),ie=n(666),ce=n(341),le=n(146),se=n(340),de={natural_breaks:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]],lisa:[[255,255,255],[255,0,0],[0,0,255],[167,173,249],[244,173,168]],hinge15_breaks:[[1,102,94],[90,180,172],[199,234,229],[246,232,195],[216,179,101],[140,81,10]],uninsured:[[240,240,240],[247,252,253],[224,236,244],[191,211,230],[158,188,218],[140,150,198],[140,107,177],[136,65,157],[129,15,124]],over65:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],lifeExp:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],forecasting:[[240,240,240],[254,232,200],[253,187,132],[227,74,51]],testings:[[240,240,240],[13,8,135],[92,1,166],[156,23,158],[203,70,121],[237,121,83],[253,180,47],[240,249,33]],testingCap:[[240,240,240],[247,251,255],[222,235,247],[198,219,239],[158,202,225],[107,174,214],[66,146,198],[33,113,181],[8,81,156],[8,48,107]]},ue={testing:{bins:["No Data","<3%","5%","10%","15%","20%",">25%"],breaks:[0,3,5,10,15,20,25,Math.pow(10,12)]},testingCap:{bins:["No Data","<50","100","150","200","250","300","350",">400"],breaks:[0,50,100,150,200,250,300,350,400,Math.pow(10,12)]},lisa:{bins:["Not significant","High-High","Low-Low","Low-High","High-Low"]}},pe={"county_usfacts.geojson":{geojson:"county_usfacts.geojson",csv:["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"county_1p3a.geojson":{geojson:"county_1p3a.geojson",csv:["covid_confirmed_1p3a","covid_deaths_1p3a","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:["covid_confirmed_1p3a","covid_deaths_1p3a"]},"county_nyt.geojson":{geojson:"county_nyt.geojson",csv:["covid_confirmed_nyt","covid_deaths_nyt","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"state_1p3a.geojson":{geojson:"state_1p3a.geojson",csv:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_1p3a_state","covid_wk_pos_1p3a_state","covid_tcap_1p3a_state","covid_ccpt_1p3a_state"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state"]}},he={Choropleth:Object(a.jsx)("p",{children:"A thematic map used to represent data through various shading patterns on predetermined geographic areas (counties, state)."}),NaturalBreaksFixed:Object(a.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for the latest date, bins fixed over time"}),NaturalBreaks:Object(a.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for every day, bins change over time"}),BoxMap:Object(a.jsx)("p",{children:"Mapping counterpart of the idea behind a box plot"}),LocalClustering:Object(a.jsx)("p",{children:"A map showing statisically significant spatial cluster and outlier locations, color coded by type."}),LocalMoran:Object(a.jsx)("p",{children:"Local Moran used to identify local clusters and outliers"}),NotSig:Object(a.jsx)("p",{children:"Area was not statistically signficant as a spatial cluster core or outlier using given parameters."}),HighHigh:Object(a.jsx)("p",{children:"Hot Spot Cluster: area with high values, neighbored by areas with high values"}),LowLow:Object(a.jsx)("p",{children:"Cold Spot Cluster: area with low values, neighbored by areas with low values"}),HighLow:Object(a.jsx)("p",{children:"Hot Outlier: area with high values, neighbored by areas with low values"}),LowHigh:Object(a.jsx)("p",{children:"Low-High Cold Outlier: area with low values, neighbored by areas with high values"}),PovChldPrc:Object(a.jsx)("p",{children:"Percentage of children under age 18 living in poverty"}),IncRt:Object(a.jsx)("p",{children:"Ratio of household income at the 80th percentile to income at the 20th percentile"}),MedianHouseholdIncome:Object(a.jsx)("p",{children:"The income where half of households in a county earn more and half of households earn less"}),FdInsPrc:Object(a.jsx)("p",{children:"Percentage of population who lack adequate access to food"}),UnEmplyPrc:Object(a.jsx)("p",{children:"Percentage of population age 16 and older unemployed but seeking work"}),UnInPrc:Object(a.jsx)("p",{children:"Percentage of people under age 65 without insurance"}),PrmPhysRt:Object(a.jsx)("p",{children:"Ratio of population to primary care physicians"}),PrevHospRt:Object(a.jsx)("p",{children:"Rate of hospital stays for ambulatory-care sensitive conditions per 100,000 Medicare enrollees"}),RsiSgrBlckRt:Object(a.jsx)("p",{children:"Index of dissimilarity where higher values indicate greater residential segregation between Black and White county residents"}),SvrHsngPrbRt:Object(a.jsx)("p",{children:"Percentage of households with at least 1 of 4 housing problems: overcrowding, high housing costs, lack of kitchen facilities, or lack of plumbing facilities"}),Over65YearsPrc:Object(a.jsx)("p",{children:"Percentage of people ages 65 and older"}),AdObPrc:Object(a.jsx)("p",{children:"Percentage of the adult population (age 20 and older) that reports a body mass index (BMI) greater than or equal to 30 kg/m2"}),AdDibPrc:Object(a.jsx)("p",{children:"Percentage of adults aged 20 and above with diagnosed diabetes"}),SmkPrc:Object(a.jsx)("p",{children:"Percentage of adults who are current smokers"}),ExcDrkPrc:Object(a.jsx)("p",{children:"Percentage of adults reporting binge or heavy drinking"}),DrOverdMrtRt:Object(a.jsx)("p",{children:"Number of drug poisoning deaths per 100,000 population"}),LfExpRt:Object(a.jsx)("p",{children:"Average number of years a person can expect to live"}),SlfHlthPrc:Object(a.jsx)("p",{children:"Percentage of adults reporting fair or poor health"}),SeverityIndex:Object(a.jsx)("p",{children:"Indicates the severity of the local covid-19 outbreak, based on cumulative and predicted deaths"}),PredictedDeaths:Object(a.jsx)("p",{children:"Predicted number of deaths for a county"}),PredictedDeathsInterval:Object(a.jsx)("p",{children:"Margin of error for predicted death counts for a county "}),healthfactor:Object(a.jsx)("p",{children:"Health factors represent those things we can modify to improve community conditions and the length and quality of life for residents"}),healthcontext:Object(a.jsx)("p",{children:"Community Health Context reflects the existing health behaviors and demographics of individuals in the community that are influenced by the opportunities to live long and well"}),healthlife:Object(a.jsx)("p",{children:"Length and Quality of Life reflects the physical and mental well-being of residents within a community through measures representing how long and how well residents live"}),Hypersegregated:Object(a.jsxs)("p",{children:["American metropolitan areas where black residents experience hypersegregation, see ",Object(a.jsx)("a",{href:"https://www.princeton.edu/news/2015/05/18/hypersegregated-cities-face-tough-road-change",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),BlackBelt:Object(a.jsxs)("p",{children:["Southern US counties that were at least 40% Black or African American in the 2000 Census, see ",Object(a.jsx)("a",{href:"https://en.wikipedia.org/wiki/Black_Belt_in_the_American_South",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),TestingCapacity:Object(a.jsx)("p",{children:"New screening (e.g., antigen) and diagnostic (e.g., PCR) testing per capita rates by date. The suggested threshold is >150 daily tests per 100k people."}),USCongress:Object(a.jsxs)("p",{children:["Find your representative ",Object(a.jsx)("a",{href:"https://www.govtrack.us/",target:"_blank",rel:"noopener noreferrer",children:"here"})]})},be=n(320);function ge(){var e=Object(Q.a)(["\nwidth:100%;\nheight:50px;\nposition:absolute;\ntop:0;\nleft:0;\nbackground:#2b2b2b;\n-moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n-webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\nbox-shadow: 0 0 0 2px rgba(0,0,0,.1);\n"]);return ge=function(){return e},e}function me(){var e=Object(Q.a)(["\n    width:29px;\n    height:29px;\n    padding:5px;\n    margin-bottom:10px;\n    display:block;\n    background-color: ",";\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    border-radius: 4px;\n    outline:none;\n    border:none;\n    transition:250ms all;\n"]);return me=function(){return e},e}function je(){var e=Object(Q.a)(["\n    background:#2b2b2b;\n    padding:20px;\n    color:white;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    h3 {\n        margin:2px 0;\n    }\n"]);return je=function(){return e},e}var fe={hospital:{x:0,y:0,width:128,height:128},clinic:{x:128,y:0,width:128,height:128}},xe="pk.eyJ1IjoibGl4dW45MTAiLCJhIjoiY2locXMxcWFqMDAwenQ0bTFhaTZmbnRwaiJ9.VRNeNnyb96Eo-CorkJmIqg",ye=Object($.a)(be),Oe={latitude:35.850033,longitude:-105.6500523,zoom:3.5,pitch:0,bearing:0},ve={CONTINENTS:"".concat(".","/geojson/world50m.json"),BLACKBELT:"".concat(".","/geojson/blackbelt_highlight.geojson"),SEG_CITIES:"".concat(".","/geojson/seg_cities.geojson"),CONGRESS_DISTRICTS:"".concat(".","/geojson/districts.geojson"),CONGRESS_CENTROIDS:"".concat(".","/geojson/district_centroids.geojson"),RESERVATIONS:"".concat(".","/geojson/reservations.geojson")},_e=Z.a.div(je()),we=(Z.a.button(me(),(function(e){return e.isActive?"yellow":"#f5f5f5"})),Z.a.div(ge())),ke=new te.a({id:"globe",controller:!1,resolution:1}),Se=new ne.a({repeat:!0}),Te=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(!1),c=Object(u.a)(i,2),l=c[0],s=c[1],d=Object(r.useState)(!1),p=Object(u.a)(d,2),h=p[0],b=(p[1],Object(r.useState)(ye)),g=Object(u.a)(b,2),m=g[0],j=g[1],f=Object(r.useState)({}),x=Object(u.a)(f,2),y=x[0],v=x[1],_=Object(r.useState)(Oe),w=Object(u.a)(_,2),k=w[0],D=w[1],E=Object(r.useState)([]),P=Object(u.a)(E,2),I=P[0],z=P[1],R=Object(r.useState)(null),M=Object(u.a)(R,2),A=M[0],L=M[1],N=Object(r.useState)(null),F=Object(u.a)(N,2),B=F[0],H=F[1],U=Object(r.useState)(null),V=Object(u.a)(U,2),G=V[0],W=V[1],K=Object(O.c)((function(e){return e.storedData})),X=Object(O.c)((function(e){return e.storedGeojson})),q=Object(O.c)((function(e){return e.currentData})),Q=Object(O.c)((function(e){return e.storedLisaData})),Z=Object(O.c)((function(e){return e.storedCartogramData})),$=Object(O.c)((function(e){return e.panelState})),te=Object(O.c)((function(e){return e.dataParams})),ne=Object(O.c)((function(e){return e.mapParams})),ue=Object(O.b)();Object(r.useEffect)((function(){var e=[];if(K[q]&&"cartogram"===ne.vizType)for(var t=0;t<K[q].length;t++)e.push({id:t});z(e)}),[K,ne.vizType]),Object(r.useEffect)((function(){L(Y(q,te))}),[te,ne]),Object(r.useEffect)((function(){switch(ne.vizType){case"2D":D((function(e){return Object(J.a)(Object(J.a)({},e),{},{latitude:35.850033,longitude:-105.6500523,zoom:3.5,bearing:0,pitch:0})}));break;case"3D":D((function(e){return Object(J.a)(Object(J.a)({},e),{},{latitude:35.850033,longitude:-105.6500523,zoom:3.5,bearing:-30,pitch:30})}));break;case"cartogram":D((function(e){return Object(J.a)(Object(J.a)({},e),{},{latitude:11.673,longitude:-31.061,zoom:4.2,bearing:0,pitch:0})}))}}),[ne.vizType]),Object(r.useEffect)((function(){var e=Q[Y(q,te)];void 0!==e&&v(e)}),[Q,te,ne]),Object(r.useEffect)((function(){var e=ye.get("layers").map((function(e){return ne.resource.includes(e.get("id"))||ne.overlay.includes(e.get("id"))?e.setIn(["layout","visibility"],"visible"):e}));j(ye.set("layers",e))}),[ne.overlay]),Object(r.useEffect)((function(){null===B&&C("https://raw.githubusercontent.com/covidcaremap/covid19-healthsystemcapacity/master/data/published/us_healthcare_capacity-facility-CovidCareMap.csv").then((function(e){return H(e)})),null===G&&C("".concat(".","/csv/health_centers.csv")).then((function(e){return W(e)}))}),[]);var pe=Object(r.useRef)(),he=[new re.a({id:"base continents",data:ve.CONTINENTS,pickable:!1,stroked:!1,filled:!0,wireframe:!1,getFillColor:[30,30,30]}),new re.a({id:"choropleth",data:{type:"FeatureCollection",name:q,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:K[q]?K[q]:[]},visible:"cartogram"!==ne.mapType,pickable:!0,stroked:!1,filled:!0,wireframe:"3D"===ne.vizType,extruded:"3D"===ne.vizType,opacity:"3D"===ne.vizType?.9:""===ne.resource?.5:.25,getFillColor:function(e){return function(e,t,n){return t.hasOwnProperty("bins")?"lisa"===n?de.lisa[y[X[q].geoidOrder[e.properties.GEOID]]]:T(S(e[te.numerator],te.nProperty,te.nIndex,te.nRange,e[te.denominator],te.dProperty,te.dIndex,te.dRange,te.scale),t.breaks,ne.colorScale,ne.mapType):[0,0,0]}(e,ne.bins,ne.mapType)},getElevation:function(e){return function(e,t){return t.hasOwnProperty("bins")?1e3*S(e[te.numerator],te.nProperty,te.nIndex,te.nRange,e[te.denominator],te.dProperty,te.dIndex,te.dRange,te.scale):0}(e,ne.bins,ne.mapType)},updateTriggers:{data:q,getFillColor:[te,ne],getElevation:[te,ne]},onHover:function(e){try{o(e)}catch(t){o(null)}},onClick:function(e){try{ue({type:"SET_DATA_SIDEBAR",payload:{data:e.object}}),s(e.object.properties.GEOID)}catch(t){}}}),new re.a({id:"highlightLayer",data:{type:"FeatureCollection",name:q,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:K[q]?K[q]:[]},pickable:!1,stroked:!0,filled:!1,getLineColor:function(e){return l===e.properties.GEOID?[255,255,255]:[255,255,255,0]},lineWidthScale:10,getLineWidth:1,lineWidthMinPixels:2,updateTriggers:{data:q,getLineColor:l}}),new oe.a({id:"hospital-layer",data:B,visible:ne.resource.includes("hospital"),iconAtlas:"".concat(".","/assets/img/icon_atlas.png"),iconMapping:fe,getIcon:function(e){return"hospital"},getPosition:function(e){return[e.Longitude,e.Latitude]},sizeUnits:"meters",getSize:12500,sizeMinPixels:6,sizeMaxPixels:20,updateTriggers:{data:B,visible:ne}}),new oe.a({id:"clinics-layer",data:G,visible:ne.resource.includes("clinic"),iconAtlas:"".concat(".","/assets/img/icon_atlas.png"),iconMapping:fe,getIcon:function(e){return"clinic"},getPosition:function(e){return[e.lon,e.lat]},sizeUnits:"meters",getSize:12500,sizeMinPixels:6,sizeMaxPixels:20,updateTriggers:{data:G,visible:ne}}),new re.a({id:"blackbelt",data:ve.BLACKBELT,pickable:!1,stroked:!1,filled:!0,getLineColor:[0,0,0],opacity:.2,visible:"blackbelt"===ne.overlay,updateTriggers:{visible:ne}}),new re.a({id:"segregated cities",data:ve.SEG_CITIES,pickable:!1,stroked:!1,filled:!0,getLineColor:[0,0,0],opacity:.2,visible:"segregated_cities"===ne.overlay,updateTriggers:{visible:ne}}),new re.a({id:"native american reservations",data:ve.RESERVATIONS,pickable:!1,stroked:!1,filled:!0,getLineColor:[0,0,0],opacity:.2,visible:"native_american_reservations"===ne.overlay,updateTriggers:{visible:ne}}),new re.a({id:"uscongressional_districts",data:ve.CONGRESS_DISTRICTS,pickable:!1,stroked:!0,filled:!1,getLineColor:[0,0,0],lineWidthMinPixels:1,visible:"uscongressional_districts"===ne.overlay,updateTriggers:{visible:ne}}),new ie.a({id:"background",data:[[[-180,90],[0,90],[180,90],[180,-90],[0,-90],[-180,-90]]],opacity:1,getPolygon:function(e){return e},stroked:!1,filled:!0,visible:"cartogram"===ne.vizType,getFillColor:[10,10,10],updateTriggers:{visible:ne.vizType}}),new ce.a({id:"cartogram layer",data:I,visible:"cartogram"===ne.vizType,getPosition:function(e){return Z[A][e.id].position},getFillColor:function(e){return t=Z[A][e.id].value,n=ne.bins,ne.mapType,n.hasOwnProperty("bins")?T(t,n.breaks,ne.colorScale,ne.mapType):[0,0,0];var t,n},getRadius:function(e){return 10*Z[A][e.id].radius},transitions:{getPosition:150,getFillColor:150,getRadius:150},updateTriggers:{getPosition:[Z,ne,te,A],getFillColor:[Z,ne,te,A],getRadius:[Z,ne,te,A],visible:[Z,ne,te,A]}})];return Object(a.jsx)("div",{id:"mapContainer",style:{position:"fixed",left:0,top:0,width:"100%",height:"100%"},children:Object(a.jsxs)(ee.a,{initialViewState:k,controller:!0,layers:he,views:h?ke:Se,children:[Object(a.jsxs)(le.d,{reuseMaps:!0,ref:pe,mapStyle:m,preventStyleDiffing:!0,mapboxApiAccessToken:xe,onLoad:function(){return ue({type:"SET_MAP_LOADED",payload:{loaded:!0}})},children:[Object(a.jsx)(se.a,{mapRef:pe,onViewportChange:function(e){return D(e)},mapboxApiAccessToken:xe,position:"top-right",style:{transform:"translateY(-5px)"}}),Object(a.jsx)(we,{}),Object(a.jsxs)("div",{style:{position:"absolute",right:$.info?317:10,bottom:30,zIndex:10,transition:"250ms all"},children:[Object(a.jsx)(le.b,{positionOptions:{enableHighAccuracy:!1},trackUserLocation:!1,onGeolocate:function(e){return function(e){D((function(t){return Object(J.a)(Object(J.a)({},t),{},{latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:8,transitionInterpolator:new ae.a,transitionDuration:250})}))}(e)},style:{marginBottom:10}}),Object(a.jsx)(le.c,{onViewportChange:function(e){return D(e)}})]}),Object(a.jsx)("div",{})]}),n.object&&Object(a.jsx)(_e,{style:{position:"absolute",zIndex:1,pointerEvents:"none",left:n.x,top:n.y},children:Object(a.jsx)(Xt,{content:n.object})})]})})},De=n(671),Ee=n(689),Pe=n(615),Ie=n(690),ze=n(678),Re=n(672),Ce=n(667);function Me(){var e=Object(Q.a)(["\n  padding-top:4px !important;\n  p { \n    display: inline;\n    color:white;\n    transform:translateY(5px);\n  }\n  span.MuiSwitch-track {\n      background-color:#ddd;\n  }\n  .MuiSwitch-colorSecondary.Mui-checked {\n      color:#A1E1E3;\n  }\n  .MuiSwitch-colorSecondary.Mui-checked + .MuiSwitch-track {\n      background-color: #A1E1E3;\n  }\n  .MuiSwitch-colorSecondary:hover {\n      background-color:#A1E1E355;\n  }\n"]);return Me=function(){return e},e}function Ae(){var e=Object(Q.a)(["\n  padding:0 0 ","px 0!important;\n  color:white;\n  padding:0;\n  margin: 0 10px 40px 0;\n  .MuiInputBase-root {\n    font-family: 'Lato', sans-serif;\n  }\n  .MuiFormLabel-root {\n    color: white;\n    font-family: 'Lato', sans-serif;\n  }\n  .Mui-focused {\n    color: white !important;\n  }\n  .MuiInput-underline:before {\n    border-bottom:1px solid rgba(255,255, 255, 0.42);\n  }\n  .MuiInput-underline:after {\n    border-bottom: 2px solid white\n  }\n  .MuiInputBase-root {\n    color: white;\n    .MuiSvgIcon-root {\n      color: rgba(255,255,255,0.54);\n    },\n    .MuiPopover-paper {\n      color:white;\n    }\n  }\n  .MuiFormGroup-root {\n    .MuiFormControlLabel-root{\n      color:white;\n      span {\n        font-family: 'Lato', sans-serif;\n      }\n      .MuiRadio-root {\n        color: rgba(255,255,255,0.54);\n      }\n    }\n  }\n  .MuiRadio-root {\n    color:white;\n  }\n  .MuiRadio-colorSecondary.Mui-checked {\n    color:white;\n  }\n"]);return Ae=function(){return e},e}var Le=Object(Z.a)(Ce.a)(Ae(),(function(e){return"radios"===e.component?"20":"40"})),Ne=Object(Z.a)(De.a)(Me());function Fe(){var e=Object(Q.a)(["\n    box-sizing:border-box;\n    padding-right:8px;\n    transform:translateY(34px);\n    span.MuiSlider-rail {\n        color:white;\n        height:1px;\n    }\n    span.MuiSlider-track {\n        color:white;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return Fe=function(){return e},e}function Be(){var e=Object(Q.a)(["\n    box-sizing:border-box;\n    padding-right:8px;\n    transform:translateY(34px);\n    span.MuiSlider-rail {\n        color:white;\n        height:1px;\n    }\n    span.MuiSlider-track {\n        color:white;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    // .MuiSlider-valueLabel span{\n    //     transform:translateX(-100%);        \n    // }\n    span.MuiSlider-thumb.MuiSlider-active {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return Be=function(){return e},e}function He(){var e=Object(Q.a)(["\n    background:none;\n    padding:0;\n    margin:0;\n    svg {\n        width: 75%;\n        g {\n            fill: white;\n        }\n    }\n    &.MuiButton-text {\n        padding:6px 0;\n    }\n"]);return He=function(){return e},e}function Ue(){var e=Object(Q.a)(["\n    color:rgb(200,200,200) !important;\n    background: none;\n    transition: 250ms all;\n    border:none !important;\n    font-size: 75% !important;\n    transition:250ms all;\n    &:hover {\n        color:white;\n        border:none !important;\n    }\n    &.active {\n        cursor: initial;\n        font-size: 75%;\n        color:black !important;\n        background: white !important;\n        transition: 250ms all;\n        border:none !important;\n    }\n    .MuiButtonGroup-vertical {\n        border:none !important;\n    }\n    .MuiButton-label {\n        justify-content: left !important;\n        text-transform:none;\n        font-family:'Lato', sans-serif;\n        font-weight:bold;\n    }\n"]);return Ue=function(){return e},e}function Ve(){var e=Object(Q.a)(["\n    color: white;\n    box-sizing:border-box;\n    padding:0 20px;\n    width:100%;\n"]);return Ve=function(){return e},e}var Ge=Z.a.div(Ve()),We=(Object(Z.a)(Pe.a)(Ue()),Object(Z.a)(Pe.a)(He())),Ye=Object(Z.a)(Ee.a)(Be()),Ke=Object(Z.a)(Ee.a)(Fe()),Xe=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.currentData})),n=Object(O.c)((function(e){return e.dates})),o=Object(O.c)((function(e){return e.dataParams})),i=Object(O.c)((function(e){return e.startDateIndex})),c=Object(r.useState)(null),l=Object(u.a)(c,2),s=l[0],d=l[1],p=Object(r.useState)(!1),h=Object(u.a)(p,2),b=h[0],g=h[1],f=Object(r.useState)(7),x=Object(u.a)(f,2),y=x[0],v=x[1],_=function(e){return"".concat(n[t][e-i])};return void 0!==n[t]?Object(a.jsx)(Ge,{style:{visibility:"time-series"===o.nType?"visible":"hidden"},children:Object(a.jsxs)(De.a,{container:!0,spacing:2,children:[Object(a.jsx)(De.a,{item:!0,xs:1,children:Object(a.jsx)(We,{id:"playPause",onClick:function(){return function(t,n,a){null===t?d(setInterval((function(t){return e({type:"INCREMENT_DATE",payload:{index:n}})}),a)):(clearInterval(t),d(null))}(s,1,100)},children:null===s?Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M74.4,58.7L40.7,92.2c-7.1,7.2-18.7,4.4-18.7-6.3V14c0-10.7,11.6-13.5,18.7-6.3l33.6,33.5\r C79.1,46,79.1,53.8,74.4,58.7z M69.1,53.4c1.9-1.9,1.9-5,0-6.7L35.5,13c-2.1-2.1-6-3.2-6,1.1V86c0,4.3,3.9,3.2,6,1.1L69.1,53.4z"})})})}):Object(a.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("g",{children:Object(a.jsx)("path",{d:"M22.4,0.6c3.4,0,6.8,0,10.3,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8\r c-3.4,0-6.8,0-10.3,0c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C10.6,5.9,15.9,0.6,22.4,0.6z M22.4,6.5c3.4,0,6.8,0,10.3,0\r c3.2,0,5.9,2.6,5.9,5.9c0,25,0,50.1,0,75.2c0,3.2-2.7,5.9-5.9,5.9c-3.4,0-6.8,0-10.3,0c-3.2,0-5.9-2.7-5.9-5.9\r c0-25.1,0-50.2,0-75.2C16.5,9.1,19.2,6.5,22.4,6.5z M67.3,6.5c3.4,0,6.8,0,10.2,0s6,2.6,6,5.9c0,25,0,50.1,0,75.2\r c0,3.2-2.7,5.9-6,5.9s-6.7,0-10.2,0c-3.3,0-5.9-2.7-5.9-5.9c0-25.1,0-50.2,0-75.2C61.4,9.1,64,6.5,67.3,6.5z M67.3,0.6\r c3.4,0,6.8,0,10.2,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8c-3.3,0-6.7,0-10.2,0\r c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C55.5,5.9,60.8,0.6,67.3,0.6z"})})})})})}),Object(a.jsxs)(De.a,{item:!0,xs:11,lg:9,children:[!b&&Object(a.jsx)(Ye,{value:o.nIndex,valueLabelDisplay:"on",onChange:function(a,r){console.log(r),"time-series"===o.nType&&"time-series"===o.dType?e(j({nIndex:r,dIndex:r})):"time-series"===o.nType?e(j({nIndex:r})):"time-series"===o.dType&&e(j({dIndex:r})),e(m(n[t][r]))},getAriaValueText:_,valueLabelFormat:_,"aria-labelledby":"aria-valuetext",min:i,step:1,max:i+n[t].length-1}),b&&Object(a.jsx)(Ke,{value:[o.nIndex-o.nRange,o.nIndex],valueLabelDisplay:"on",onChange:function(t,n){console.log(n),o.dRange?e(j({nIndex:n[1],nRange:n[1]-n[0],rIndex:n[1],rRange:n[1]-n[0]})):e(j({nIndex:n[1],nRange:n[1]-n[0]}))},getAriaValueText:_,valueLabelFormat:_,"aria-labelledby":"aria-valuetext",min:i,step:1,max:i+n[t].length-1})]}),Object(a.jsx)(De.a,{item:!0,xs:12,lg:2,style:{paddingLeft:"17px"},children:Object(a.jsxs)(Le,{children:[Object(a.jsx)(Re.a,{htmlFor:"date-select",children:"Date Range"}),Object(a.jsxs)(ze.a,{id:"date-select",value:y,onChange:function(t){var n=t.target.value;"custom"===n?(g(!0),"time-series"===o.nType&&"time-series"===o.dType?e(j({nRange:14,dRange:14})):"time-series"===o.nType?e(j({nRange:14})):"time-series"===o.dType&&e(j({dRange:14}))):(g(!1),"time-series"===o.nType&&"time-series"===o.dType?e(j({nRange:n,dRange:n})):"time-series"===o.nType?e(j({nRange:n})):"time-series"===o.dType&&e(j({dRange:n}))),v(n)},children:[Object(a.jsx)(Ie.a,{value:null,children:"Cumulative"},"cumulative"),Object(a.jsx)(Ie.a,{value:1,children:"New Daily"},"daily"),Object(a.jsx)(Ie.a,{value:7,children:"Weekly Average"},"weekly"),Object(a.jsx)(Ie.a,{value:"custom",children:"Custom Range"},"customRange")]})]})})]})}):Object(a.jsx)(Ge,{})},qe=n(673);function Je(){var e=Object(Q.a)(["\n    width:100%;\n    display: flex;\n    margin-top:10px;\n    box-sizing: border-box;\n    .bin { \n        height:10px;\n        display: inline;\n        flex:1;\n        border:0;\n        margin:0;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return Je=function(){return e},e}function Qe(){var e=Object(Q.a)(["\n    width:100%;\n    display: flex;\n    margin-top:0px;\n    box-sizing: border-box;\n    padding: 0 ","%;\n    .bin { \n        height:10px;\n        display: inline;\n        border:0;\n        margin:0;\n        flex:2;\n        color:white;\n        font-size:10px;\n        text-align: center;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(Q.a)(["\n    text-align: left;\n    font-family:'Playfair Display', serif;\n    padding:0 0 10px 0;\n    font-weight:normal;\n    margin:0;\n    color:white;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(Q.a)(["\n    width:100%;\n    padding:20px;\n    margin:0;\n    box-sizing: border-box;\n"]);return $e=function(){return e},e}var et=Z.a.div($e()),tt=Z.a.h3(Ze()),nt=Z.a.div(Qe(),(function(e){return e.binLength>6?100/e.binLength/2-1:0}),(function(e){return e.firstBinZero?"translateX(-45%)":"none"})),at=Z.a.div(Je(),(function(e){return e.firstBinZero?"scaleX(0.35)":"none"})),rt=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.mapParams})),n=(Object(O.c)((function(e){return e.dataParams})),Object(O.c)((function(e){return e.currentVariable})));return Object(a.jsx)(et,{children:Object(a.jsxs)(De.a,{container:!0,spacing:2,id:"legend-bins-container",children:[Object(a.jsx)(De.a,{item:!0,xs:12,lg:4,children:Object(a.jsx)(tt,{children:n})}),Object(a.jsxs)(De.a,{item:!0,xs:12,lg:6,children:[Object(a.jsx)(at,{firstBinZero:"240,240,240"==="".concat(t.colorScale[0]),children:void 0!==t.colorScale&&t.colorScale.map((function(e){return Object(a.jsx)("div",{className:"bin color",style:{backgroundColor:"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}},"".concat(e[0]).concat(e[1]))}))}),Object(a.jsxs)(nt,{firstBinZero:"240,240,240"==="".concat(t.colorScale[0]),binLength:t.bins.bins.length,children:["240,240,240"==="".concat(t.colorScale[0])&&Object(a.jsx)("div",{className:"bin firstBin",children:"0"}),void 0!==t.bins.bins&&function(e){if(void 0!==e)return e.slice(-1)[0]!==">".concat(e.slice(-2,-1)[0])||(e.splice(0,1,"<".concat(e[0])),e.splice(-2,1)),e}(t.bins.bins).map((function(e){return Object(a.jsx)("div",{className:"bin label",children:e},e)}))]})]}),Object(a.jsxs)(Ne,{item:!0,xs:12,lg:2,children:[Object(a.jsx)(qe.a,{checked:"dynamic"===t.binMode,onChange:function(){"dynamic"===t.binMode?e(f({binMode:""})):e(f({binMode:"dynamic"}))},name:"bin chart switch"}),Object(a.jsx)("p",{children:"dynamic"===t.binMode?"Daily Bins":"Fixed Bins"})]})]})})};function ot(){var e=Object(Q.a)(["\n  position:fixed;\n  right:0;\n  top:50px;\n  height:calc(100vh - 50px);\n  min-width:200px;\n  background-color: #2b2b2b;\n  box-shadow: -2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color: white;\n  font-size:100%;\n  padding:0;\n  z-index:5;\n  div.container {\n    width:100%;\n    height:100vh;\n    overflow-y:scroll;\n    padding:5px 0 0 30px;\n    box-sizing:border-box;\n    div {\n      padding-right:20px;\n      box-sizing:border-box;\n    }\n  }\n  button#showHideRight {\n    position:absolute;    \n    right:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: #2b2b2b;\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg {\n      padding:0;\n      margin:0;\n      fill:white;\n      transform:rotate(180deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      color:white;\n      position: relative;\n      top:-30px;\n      transition:500ms all;\n      content: 'Info';\n      right:40px;\n      z-index:4;\n    }\n  }\n  button#showHideRight.hidden {\n    right:100%;\n    svg {\n      transform:rotate(0deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return ot=function(){return e},e}var it=Z.a.div(ot()),ct=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.sidebarData})),n=t.properties,r=t.cases,o=t.deaths,i=t.predictions,c=t.chr_health_factors,l=t.chr_life,s=t.chr_health_context,d=Object(O.c)((function(e){return e.currentData})),u=Object(O.c)((function(e){return e.panelState})),p=Object(O.c)((function(e){return e.cols})),h=function(e){return"".concat(e.slice(-2)[0],"/").concat(e.slice(-1)[0])};return Object(a.jsx)(it,{style:{transform:u.info?"":"translateX(100%)"},id:"data-panel",children:Object(a.jsxs)("div",{className:"container",children:[n&&Object(a.jsxs)("h2",{children:[n.NAME,", ",n.state_name]}),n&&Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:["Population: ",n.population.toLocaleString("en")]})}),r&&o&&Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:["Total Cases: ",r.slice(-1)[0].toLocaleString("en"),Object(a.jsx)("br",{}),"Total Deaths: ",o.slice(-1)[0].toLocaleString("en"),Object(a.jsx)("br",{}),"Cases per 100k Population: ",S(r,null,r.length-1,null,n,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths per 100k Population: ",S(o,null,o.length-1,null,n,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases per 100k Population: ",S(r,null,r.length-1,1,n,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths per 100k Population: ",S(o,null,o.length-1,1,n,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{}),"Licensed Hospital Beds: ",n.beds.toLocaleString("en"),Object(a.jsx)("br",{}),"Cases per Bed: ",S(r,null,r.length-1,null,n,"beds",null,null,1).toFixed(2).toLocaleString("en"),Object(a.jsx)("br",{})]})}),c&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Community Health Factors"}),Object(a.jsxs)("p",{children:["Children in poverty %: ",c[F(p,d,"chr_health_factors","PovChldPrc")],Object(a.jsx)("br",{}),"Income inequality: ",c[F(p,d,"chr_health_factors","IncRt")],Object(a.jsx)("br",{}),"Median household income: ",c[F(p,d,"chr_health_factors","MedianHouseholdIncome")].toLocaleString("en"),Object(a.jsx)("br",{}),"Food insecurity %: ",c[F(p,d,"chr_health_factors","FdInsPrc")],Object(a.jsx)("br",{}),"Unemployment %: ",c[F(p,d,"chr_health_factors","UnEmplyPrc")],Object(a.jsx)("br",{}),"Uninsured %: ",c[F(p,d,"chr_health_factors","UnInPrc")],Object(a.jsx)("br",{}),"Primary care physicians: ",c[F(p,d,"chr_health_factors","PrmPhysRt")],Object(a.jsx)("br",{}),"Preventable hospital stays: ",c[F(p,d,"chr_health_factors","PrevHospRt")].toLocaleString("en"),Object(a.jsx)("br",{}),"Residential segregation-black/white: ",c[F(p,d,"chr_health_factors","RsiSgrBlckRt")],Object(a.jsx)("br",{}),"Severe housing problems %: ",c[F(p,d,"chr_health_factors","SvrHsngPrbRt")],Object(a.jsx)("br",{})]})]}),s&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Community Health Context"}),Object(a.jsxs)("p",{children:["% 65 and older: ",s[F(p,d,"chr_health_context","Over65YearsPrc")]," ",Object(a.jsx)("br",{}),"Adult obesity %: ",s[F(p,d,"chr_health_context","AdObPrc")]," ",Object(a.jsx)("br",{}),"Diabetes prevalence %: ",s[F(p,d,"chr_health_context","AdDibPrc")]," ",Object(a.jsx)("br",{}),"Adult smoking %: ",s[F(p,d,"chr_health_context","SmkPrc")]," ",Object(a.jsx)("br",{}),"Excessive drinking %: ",s[F(p,d,"chr_health_context","ExcDrkPrc")]," ",Object(a.jsx)("br",{}),"Drug overdose deaths: ",s[F(p,d,"chr_health_context","DrOverdMrtRt")]||"0"," ",Object(a.jsx)("br",{})]})]}),l&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Length and Quality of Life"}),Object(a.jsxs)("p",{children:["Life expectancy: ",l[F(p,d,"chr_life","LfExpRt")]," ",Object(a.jsx)("br",{}),"Self-rated health %: ",l[F(p,d,"chr_life","SlfHlthPrc")]," ",Object(a.jsx)("br",{})]})]}),i&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Predictions"}),Object(a.jsxs)("p",{children:["5-Day Severity Index: ",["","High","Medium","Low"][i[1]]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[2].split("_")),": ",i[2]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[4].split("_")),": ",i[4]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[6].split("_")),": ",i[6]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[8].split("_")),": ",i[8]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[10].split("_")),": ",i[10]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[12].split("_")),": ",i[12]," ",Object(a.jsx)("br",{}),"Predicted Deaths by ",h(p[d].predictions[14].split("_")),": ",i[14]," ",Object(a.jsx)("br",{})]})]}),r&&Object(a.jsx)("button",{onClick:function(){return u.info?e(y({info:!1})):e(y({info:!0}))},id:"showHideRight",className:u.info?"active":"hidden",children:Object(a.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})})};function lt(){var e=Object(Q.a)(["\n    background: none;\n    position:absolute;\n    right:5px;\n    bottom:","px;\n    width:40px;\n    height:40px;\n    padding:0;\n    transform:",";\n    border:none;\n    outline:none;\n    transition:250ms all;\n    svg {\n        fill:white;\n        width:\n    }\n    &.hidden {\n        bottom:;\n        transform:;\n    }\n"]);return lt=function(){return e},e}function st(){var e=Object(Q.a)(["\n    position: fixed;\n    bottom:-","px;\n    left:50%;\n    background:#2b2b2b;\n    transform:translateX(-50%);\n    width:90vw;\n    max-width: 960px;\n    box-sizing: border-box;\n    padding:0;\n    margin:0;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    transition:250ms all;\n    hr {\n        opacity:0.5;\n    }\n"]);return st=function(){return e},e}var dt=function(){try{return document.querySelector("#main-chart-container").offsetHeight}catch(e){return 0}},ut=Z.a.div(st(),(function(e){return e.bottom})),pt=Z.a.button(lt(),(function(e){return e.bottom}),(function(e){return 5===e.bottom?"rotate(270deg)":"rotate(90deg)"})),ht=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.panelState})),n=Object(r.useState)(0),o=Object(u.a)(n,2),i=o[0],c=o[1];return window.addEventListener("resize",(function(){return c(dt())})),Object(a.jsxs)(ut,{bottom:t.chart?0:i,children:[Object(a.jsx)(rt,{}),Object(a.jsx)(Xe,{}),Object(a.jsx)("hr",{}),Object(a.jsx)(Wt,{}),Object(a.jsx)(pt,{onClick:function(){t.chart?(c(dt()),e(y({chart:!1}))):(c(dt()),e(y({chart:!0})))},bottom:t.chart?5:i,children:Object(a.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})},bt=n(675),gt=n(616),mt=n(691),jt=n(682),ft=n(686),xt=n(674);function yt(){var e=Object(Q.a)(["\n    width:12.5px;\n    height:12.5px;\n    background:url('","/assets/img/info.png');\n    background-repeat: no-repeat;\n    background-size: cover;\n    outline:none;\n    border:none;\n    padding:0;\n    margin:4px;\n"]);return yt=function(){return e},e}var Ot=Z.a.button(yt(),"."),vt=function(e){var t=Object(O.b)();return Object(a.jsx)(Ot,{id:e.id,onMouseEnter:function(e){t(x(e.currentTarget))},onMouseLeave:function(){}},e.id)};function _t(){var e=Object(Q.a)(["\n  \n"]);return _t=function(){return e},e}function wt(){var e=Object(Q.a)(["\n  width:100%;\n  .MuiFormControl-root {\n    width:45%;\n    min-width:60px;\n    margin-right:5px;\n  }\n"]);return wt=function(){return e},e}function kt(){var e=Object(Q.a)(["\n  color:white;\n  padding-bottom:20px;\n  .MuiButtonGroup-grouped {\n    color:white;\n    border-color:#ffffff77;\n    &:hover {\n      border-color:white;\n    }\n    &.active {\n      background:white;\n      color:#2e2e2e;\n    }\n  }\n"]);return kt=function(){return e},e}function St(){var e=Object(Q.a)(["\n  position:fixed;\n  left:0;\n  top:50px;\n  height:auto;\n  min-height:calc(100vh - 50px);\n  min-width:200px;\n  background-color: #2b2b2b;\n  box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color:white;\n  z-index:50;\n  p.note {\n    position: absolute;\n    bottom:100px;\n    width:calc(100% - 40px);\n    font-family: 'Lato', sans-serif;\n    font-weight:300;\n    font-size:90%;\n    a {\n      color:#FFCE00;\n      text-decoration: none;\n    }\n  }\n  div.poweredByGeoda {\n    position: absolute;\n    bottom: 40px;\n    color:white;\n    width:100%;\n    text-align:center;\n    transform:translateX(-20px);\n    a {\n      color:white;\n      margin:0 auto;\n      text-decoration: none;\n      letter-spacing: 2px;\n      font-size:75%;\n      img {\n        width:23px;\n        height:27px;\n        transform: translate(-50%,40%);\n      }\n    }\n  }\n  button#showHideLeft {\n    position:absolute;\n    left:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: #2b2b2b;\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg { \n      padding:0;\n      margin:0;\n      fill:white;\n      transform:rotate(0deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      content: 'Variables';\n      color:white;\n      position: relative;\n      right:-50px;\n      top:-30px;\n      transition:500ms all;\n      z-index:4;\n    }\n  }\n  button#showHideLeft.hidden {\n    left:100%;\n    svg {\n      transform:rotate(180deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return St=function(){return e},e}var Tt=Z.a.div(St()),Dt=Object(Z.a)(xt.a)(kt()),Et=Z.a.div(wt()),Pt=Z.a.div(_t()),It=function(e){var t=Object(O.b)(),n=Object(O.c)((function(e){return e.cols})),r=Object(O.c)((function(e){return e.currentData})),o=Object(O.c)((function(e){return e.currentVariable})),i=Object(O.c)((function(e){return e.mapParams})),c=Object(O.c)((function(e){return e.panelState})),l={"HEADER:cases":{},"Confirmed Count":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Confirmed Count per 100K Population":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},"Confirmed Count per Licensed Bed":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"beds",dRange:null,dIndex:null,scale:1},"HEADER:deaths":{},"Death Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Death Count per 100K Population":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},"Death Count / Confirmed Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"cases",dType:"time-series",dProperty:null,scale:1},"HEADER:community health":{},"Uninsured % (Community Health Factor)":{numerator:"chr_health_factors",nType:"characteristic",nProperty:F(n,r,"chr_health_factors","UnInPrc"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:de.uninsured},"Over 65 Years % (Community Health Context)":{numerator:"chr_health_context",nType:"characteristic",nProperty:F(n,r,"chr_health_context","Over65YearsPrc"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:de.over65},"Life expectancy (Length and Quality of Life)":{numerator:"chr_life",nType:"characteristic",nProperty:F(n,r,"chr_life","LfExpRt"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:de.lifeExp}},s={"HEADER:forecasting":{},"Forecasting (5-Day Severity Index)":{numerator:"predictions",nType:"characteristic",nProperty:F(n,r,"predictions","severity_index"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}},d={"HEADER:testing":{},"7 Day Testing Positivity Rate %":{numerator:"testing_wk_pos",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"7 Day Testing Capacity":{numerator:"testing_tcap",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"7 Day Confirmed Cases per Testing %":{numerator:"testing_ccpt",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}},u=function(e){i.vizType!==e&&t(f({vizType:e}))};return Object(a.jsxs)(Tt,{style:{transform:c.variables?"":"translateX(-100%)"},children:[Object(a.jsxs)(Pt,{children:[Object(a.jsxs)("h2",{children:["Data Sources &",Object(a.jsx)("br",{})," Map Variables"]}),Object(a.jsxs)(Le,{children:[Object(a.jsx)(Re.a,{htmlFor:"data-select",children:"Data Source"}),Object(a.jsxs)(ze.a,{id:"data-select",value:r,onChange:function(e){t(b(e.target.value))},children:[Object(a.jsx)(bt.a,{children:"county data"}),Object(a.jsx)(Ie.a,{value:"county_usfacts.geojson",children:"USA Facts"},"county_usfacts.geojson"),Object(a.jsx)(Ie.a,{value:"county_nyt.geojson",children:"New York Times"},"county_nyt.geojson"),Object(a.jsx)(Ie.a,{value:"county_1p3a.geojson",children:"1point3acres"},"county_1p3a.geojson"),Object(a.jsx)(bt.a,{children:"state data"}),Object(a.jsx)(Ie.a,{value:"state_1p3a.geojson",children:"1point3acres"},"state_1p3a.geojson"),Object(a.jsx)(Ie.a,{value:"state_nyt.geojson",disabled:!0,children:"New York Times"},"state_nyt.geojson")]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(Le,{children:[Object(a.jsx)(Re.a,{htmlFor:"numerator-select",children:"Select Variable"}),Object(a.jsxs)(ze.a,{value:o,id:"numerator-select",onChange:function(e){var n=e.target.value;t({type:"SET_VARIABLE_NAME",payload:{name:n}});var a=l.hasOwnProperty(n)?l[n]:s.hasOwnProperty(n)?s[n]:d.hasOwnProperty(n)?d[n]:null;t(j(Object(J.a)({},a))),"natural_breaks"===i.mapType&&(a.hasOwnProperty("colorScale")?t(f({colorScale:a.colorScale})):t(f({colorScale:de.natural_breaks})))},children:[Object.keys(l).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(bt.a,{children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(Ie.a,{value:e,children:e},e)})),r.includes("county")&&Object.keys(s).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(bt.a,{children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(Ie.a,{value:e,children:e},e)})),r.includes("state")&&Object.keys(d).map((function(e){return"HEADER"===e.split(":")[0]?Object(a.jsx)(bt.a,{children:e.split(":")[1]},e.split(":")[1]):Object(a.jsx)(Ie.a,{value:e,children:e},e)}))]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)(Le,{component:"Radio",children:[Object(a.jsx)(gt.a,{component:"legend",children:"Map Type"}),Object(a.jsxs)(ft.a,{"aria-label":"maptype",name:"maptype1",onChange:function(e,n){t(f("lisa"===n?{mapType:n,nBins:4,bins:ue[n],colorScale:de[n]}:{nBins:"hinge15_breaks"===n?6:8,mapType:n}))},value:i.mapType,children:[Object(a.jsx)(mt.a,{value:"natural_breaks",control:Object(a.jsx)(jt.a,{}),label:"Natural Breaks"},"natural_breaks"),Object(a.jsx)(mt.a,{value:"hinge15_breaks",control:Object(a.jsx)(jt.a,{}),label:"Box Map"},"hinge15_breaks"),Object(a.jsx)(mt.a,{value:"lisa",control:Object(a.jsx)(jt.a,{}),label:"Local Moran"},"lisa")]})]}),Object(a.jsx)("p",{children:"Visualization Type"}),Object(a.jsxs)(Dt,{color:"primary","aria-label":"text button group",children:[Object(a.jsx)(Pe.a,{className:"2D"===i.vizType?"active":"","data-val":"2D",onClick:function(){return u("2D")},children:"2D"},"2D-btn"),Object(a.jsx)(Pe.a,{className:"3D"===i.vizType?"active":"","data-val":"3D",onClick:function(){return u("3D")},children:"3D"},"3D-btn"),Object(a.jsx)(Pe.a,{className:"cartogram"===i.vizType?"active":"","data-val":"cartogram",onClick:function(){return u("cartogram")},children:"Cartogram"},"cartogram-btn")]}),Object(a.jsx)("br",{}),Object(a.jsxs)(Et,{children:[Object(a.jsxs)(Le,{children:[Object(a.jsx)(Re.a,{htmlFor:"overlay-select",children:"Overlay"}),Object(a.jsxs)(ze.a,{id:"overlay-select",value:i.overlay,onChange:function(e){t(f({overlay:e.target.value}))},children:[Object(a.jsx)(Ie.a,{value:"",children:"None"},"None"),Object(a.jsx)(Ie.a,{value:"native_american_reservations",children:"Native American Reservations"},"native_american_reservations"),Object(a.jsxs)(Ie.a,{value:"segregated_cities",children:["Hypersegregated Cities",Object(a.jsx)(vt,{id:"Hypersegregated"})]},"segregated_cities"),Object(a.jsxs)(Ie.a,{value:"blackbelt",children:["Black Belt Counties",Object(a.jsx)(vt,{id:"BlackBelt"})]},"blackbelt"),Object(a.jsxs)(Ie.a,{value:"uscongressional_districts",children:["US Congressional Districts ",Object(a.jsx)(vt,{id:"USCongress"})]},"uscongressional_districts")]})]}),Object(a.jsxs)(Le,{children:[Object(a.jsx)(Re.a,{htmlFor:"resource-select",children:"Resource"}),Object(a.jsxs)(ze.a,{id:"resource-select",value:i.resource,onChange:function(e){t(f({resource:e.target.value}))},children:[Object(a.jsx)(Ie.a,{value:"",children:"None"},"None"),Object(a.jsx)(Ie.a,{value:"clinics_hospitals",children:"Clinics and Hospitals"},"variable1"),Object(a.jsx)(Ie.a,{value:"clinics",children:"Clinics"},"variable2"),Object(a.jsx)(Ie.a,{value:"hospitals",children:"Hospitals"},"variable3")]})]})]})]}),Object(a.jsxs)("p",{className:"note",children:["Data is updated with freshest available data at 3pm CST daily, at minimum. In case of data discrepancy, local health departments are considered most accurate as per CDC recommendations. More information on ",Object(a.jsx)("a",{href:"data.html",children:"data"}),", ",Object(a.jsx)("a",{href:"methods.html",children:"methods"}),", and ",Object(a.jsx)("a",{href:"FAQ.html",children:"FAQ"})," at main site."]}),Object(a.jsx)("div",{className:"poweredByGeoda",children:Object(a.jsxs)("a",{href:"https://geodacenter.github.io",target:"_blank",rel:"noopener noreferrer",children:[Object(a.jsx)("img",{src:"".concat(".","/assets/img/geoda-logo.png")}),"POWERED BY GEODA"]})}),Object(a.jsx)("button",{onClick:function(){c.variables?t(y({variables:!1})):t(y({variables:!0}))},id:"showHideLeft",className:c.variables?"active":"hidden",children:Object(a.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(a.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(a.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})},zt=n(72);function Rt(){var e=Object(Q.a)(["\n    text-align: left;\n    font-family:'Playfair Display', serif;\n    padding:0;\n    font-weight:normal;\n    margin:0;\n    color:white;\n"]);return Rt=function(){return e},e}function Ct(){var e=Object(Q.a)(["\n    padding:10px 11.5% 20px 20px;\n"]);return Ct=function(){return e},e}var Mt=Object(Z.a)(De.a)(Ct()),At=Z.a.h3(Rt()),Lt=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"],Nt=function(e){return"".concat(e/1e6,"M")},Ft=function(e){return"".concat(e/1e3,"K")},Bt=function(e){var t=new Date(e).getMonth();return"".concat(Lt[t])},Ht=function(e){return Object(a.jsx)("text",Object(J.a)(Object(J.a)({},e),{},{children:e.labelFormatter(e.payload.value)}))},Ut=function(e,t,n){if(null===e)try{return n.slice(0,1)[0].date}catch(a){return null}else try{return n[t-e].date}catch(r){return null}},Vt=function(e,t){try{return t[e].date}catch(n){return null}},Gt=function(e){if(e.active){var t=e.payload;return Object(a.jsxs)("div",{style:{background:"#1a1a1a",padding:"1px 10px",borderRadius:"4px",boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)"},children:[Object(a.jsx)("p",{style:{color:"white",padding:0},children:t[0].payload.date}),t.map((function(e){return Object(a.jsxs)("p",{style:{color:e.color,textShadow:"2px 2px 4px #2e2e2e",fontWeight:600},children:[e.name,": ",Number.isInteger(e.payload[e.dataKey])?e.payload[e.dataKey].toLocaleString("en"):e.payload[e.dataKey]]})}))]})}return null},Wt=function(){var e=Object(O.c)((function(e){return e.chartData})),t=Object(O.c)((function(e){return e.dataParams})),n=Object(r.useState)(!1),o=Object(u.a)(n,2),i=o[0],c=o[1];return Object(a.jsxs)(Mt,{container:!0,spacing:2,id:"main-chart-container",children:[Object(a.jsx)(De.a,{item:!0,xs:12,children:Object(a.jsx)(At,{children:"Total Cases and Daily Cases"})}),Object(a.jsx)(De.a,{item:!0,xs:12,style:{height:"20vh"},children:Object(a.jsx)(zt.e,{width:"100%",height:"100%",children:Object(a.jsxs)(zt.c,{data:e,margin:{top:20,right:10,left:22,bottom:20},children:[Object(a.jsx)(zt.g,{dataKey:"date",tick:Object(a.jsx)(Ht,{style:{fill:"#FFFFFF99",fontSize:"10px",fontFamily:"Lato",fontWeight:600,transform:"translateY(10px)"},labelFormatter:Bt})}),Object(a.jsx)(zt.h,{yAxisId:"left",type:"number",dataKey:"count",scale:i?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0,ticks:[2e6,4e6,6e6,8e6,1e7],tick:Object(a.jsx)(Ht,{style:{fill:"#D8D8D8",fontSize:"10px",fontFamily:"Lato",fontWeight:600},labelFormatter:Nt}),children:Object(a.jsx)(zt.a,{value:"Total Cases",position:"insideLeft",style:{marginTop:10,fill:"#D8D8D8",fontFamily:"Lato",fontWeight:600},angle:-90})}),Object(a.jsx)(zt.h,{yAxisId:"right",orientation:"right",dataKey:"dailyNew",scale:i?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0,ticks:[2e4,4e4,6e4,8e4,1e5,12e4,14e4],tick:Object(a.jsx)(Ht,{style:{fill:"#FFCE00",fontSize:"10px",fontFamily:"Lato",fontWeight:600},labelFormatter:Ft}),children:Object(a.jsx)(zt.a,{value:"Daily Cases",position:"insideTopRight",style:{marginTop:10,fill:"#FFCE00",fontFamily:"Lato",fontWeight:600},angle:-90})}),Object(a.jsx)(zt.f,{content:Gt}),Object(a.jsx)(zt.d,{yAxisId:"left",x1:Ut(t.nRange,t.nIndex,e),x2:Vt(t.nIndex,e),fill:"white",fillOpacity:.15,isAnimationActive:!1}),Object(a.jsx)(zt.b,{type:"monotone",yAxisId:"left",dataKey:"count",name:"Total Count",stroke:"#D8D8D8",dot:!1}),Object(a.jsx)(zt.b,{type:"monotone",yAxisId:"right",dataKey:"dailyNew",name:"Daily Count",stroke:"#FFCE00",dot:!1})]})})}),Object(a.jsxs)(Ne,{item:!0,xs:12,style:{position:"absolute",right:0,bottom:40},children:[Object(a.jsx)(qe.a,{checked:i,onChange:function(){c((function(e){return!e}))},name:"log chart switch",inputProps:{"aria-label":"secondary checkbox"}}),Object(a.jsx)("p",{children:i?"Log Scale":"Linear Scale"})]})]})},Yt=n(676),Kt=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.anchorEl})),n=Boolean(t),r=n?"simple-popper":void 0;return Object(a.jsx)(Yt.a,{id:r,open:n,anchorEl:t,placement:"left",disablePortal:!1,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"scrollParent"}},style:{zIndex:1e4,maxWidth:"200px",background:"none",padding:0,margin:0,pointerEvents:"none"},onMouseEnter:function(n){e(x(t))},onMouseLeave:function(){e(x(null))},children:Object(a.jsx)("div",{style:{background:"black",padding:"1px 10px",margin:0,borderRadius:"4px",color:"white",transform:"translateX(65%)",boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)",pointerEvents:"all"},children:t&&he[t.id]})})},Xt=function(e){var t=e.content,n=t.properties,r=t.cases,o=t.deaths,i=t.testing,c=r&&r.length-1,l=o&&o.length-1;i&&i.length;return n&&r&&o?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:[n.NAME," ",n.state_name&&", ".concat(n.state_name)]}),Object(a.jsxs)("div",{children:["Cases: ",r[c].toLocaleString("en"),Object(a.jsx)("br",{}),"Deaths: ",o[l].toLocaleString("en"),Object(a.jsx)("br",{}),"New Cases: ",(r[c]-r[c-1]).toLocaleString("en"),Object(a.jsx)("br",{}),"New Deaths: ",(o[l]-o[l-1]).toLocaleString("en"),Object(a.jsx)("br",{})]})]}):Object(a.jsx)("div",{})},qt=function(){return Object(a.jsxs)("div",{className:"navbar",children:[Object(a.jsxs)("div",{className:"nav-logo",children:[Object(a.jsx)("img",{src:"".concat(".","/favicon/android-icon-192x192.png"),style:{height:"30px",paddingRight:"5px"}}),Object(a.jsx)("a",{href:"index.html",children:"US COVID ATLAS "})]}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"data.html",children:"DATA"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"api.html",children:"API"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"methods.html",children:"METHODS"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"faq.html",children:"FAQ"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"about.html",children:"INSIGHTS"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"about.html",children:"ABOUT"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"contact.html",children:"CONTACT"})})]})]})};function Jt(){var e=Object(Q.a)(["\n    position:fixed;\n    width:100%;\n    height:100%;\n    z-index:500;\n    top:0;\n    left:0;\n    background:#2b2b2b;\n    transition: 500ms opacity;\n    img {\n        width:100px;\n        height:86px;\n        position:fixed;\n        left:50%;\n        top:50%;\n        transform:translate(-50%, -50%);\n    }\n    svg {\n        width:40vw;\n        height:40vh;\n        position:fixed;\n        left:50%;\n        top:50%;\n        transform:translate(-50%, -50%);\n        g {\n            rect {\n                fill:#EC1E24;\n                animation: fade 1s infinite ease-in-out;\n            }\n            #topLeft {\n                animation-delay:0.25s;\n            }\n            #bottomRight {\n                animation-delay:0.5s;\n            }\n            #bottomLeft {\n                animation-delay:0.75s;\n            }\n        }\n    }\n    @keyframes fade {\n        0% {fill-opacity:1};\n        50% {fill-opacity:0.25};\n        100% {fill-opacity:1};\n    }\n    &.fadeOut {\n        opacity:0;\n        pointer-events:none;\n    }\n"]);return Jt=function(){return e},e}var Qt=Z.a.div(Jt()),Zt=function(e){return e.loaded&&setTimeout((function(){document.querySelector("#preloaderContainer").style.display="none"}),500),Object(a.jsx)(Qt,{className:e.loaded?"fadeOut":"",id:"preloaderContainer",children:Object(a.jsx)("img",{src:"".concat(".","/assets/img/preloader.gif"),alt:"Preloader"})})};var $t=function(){var e=Object(O.c)((function(e){return e.storedData})),t=Object(O.c)((function(e){return e.storedGeojson})),n=Object(O.c)((function(e){return e.storedLisaData})),o=Object(O.c)((function(e){return e.storedCartogramData})),i=Object(O.c)((function(e){return e.currentData})),c=Object(O.c)((function(e){return e.cols})),x=Object(O.c)((function(e){return e.dates})),y=Object(O.c)((function(e){return e.mapParams})),v=Object(O.c)((function(e){return e.dataParams})),_=Object(O.c)((function(e){return e.startDateIndex})),w=Object(O.c)((function(e){return e.mapLoaded})),S=Object(r.useState)(null),T=Object(u.a)(S,2),D=T[0],E=T[1],I=Object(O.b)(),z=function(e,t){for(var n={},a=0;a<e.length;a++)n[t[a]]=e[a][1];return n};function R(e,t,n,a,r,o){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(l.a.mark((function e(t,n,a,r,o,i){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.map((function(e){return A("".concat(".","/csv/").concat(e,".csv"),a[1],o.includes(e)).then((function(e){return e}))})),Promise.all([P("".concat(".","/geojson/").concat(t),i)].concat(Object(s.a)(c))).then((function(e){I(h(e[0].geoidIndex,t));var n=L(e[0].data,a[0],e.slice(1),r,a[1]);I(p(n,t)),I(b(t)),I(g(z(e.slice(1),r),t))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function e(){setTimeout((function(){void 0===window.Module?e():null===D&&E(new k)}),100)}()}),[window.Module]),Object(r.useEffect)((function(){null!==D&&""===i&&R("county_usfacts.geojson",["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],["GEOID","FIPS"],["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],[],D)}),[D]),Object(r.useEffect)((function(){null!==D&&""!==i&&void 0===e[i]&&R(pe[i].geojson,pe[i].csv,pe[i].joinCols,pe[i].tableNames,pe[i].accumulate,D)}),[i]),Object(r.useEffect)((function(){""!=i&&(x.hasOwnProperty(i)||(function(e,t){I({type:"SET_CENTROIDS",payload:{data:t.GetCentroids(e),name:e}})}(i,D),function(e,t,n){var a=B(e[t]);I(function(e,t){return{type:"SET_DATES",payload:{data:e,name:t}}}(a[0],n)),I(m(a[0].slice(-1)[0])),I(j({nIndex:N(e,t,a[0].slice(-1)[0])})),I({type:"SET_START_DATE_INDEX",payload:{index:a[1]}})}(c[i],"cases",i)))}),[c]),Object(r.useEffect)((function(){e[i]&&I({type:"SET_CHART_DATA",payload:{data:U(e[i],"cases",_,x[i])}})}),[_]),Object(r.useEffect)((function(){if(console.log("map or data params"),null!==D&&"lisa"===y.mapType){var a=Y(i,v);n.hasOwnProperty(a)||I({type:"SET_STORED_LISA_DATA",payload:{data:W(D,i,V(e[i],v.numerator,v.nType,v.nProperty,v.nIndex,v.nRange,v.denominator,v.dType,v.dProperty,v.dIndex,v.dRange,v.scale,t[i].indexOrder)),name:a}})}if(null!==D&&"cartogram"===y.vizType){var r=Y(i,v);o.hasOwnProperty(r)||I(function(e,t){return{type:"SET_STORED_CARTOGRAM_DATA",payload:{data:e,name:t}}}(q(D,i,V(e[i],v.numerator,v.nType,v.nProperty,v.nIndex,v.nRange,v.denominator,v.dType,v.dProperty,v.dIndex,v.dRange,v.scale,t[i].indexOrder)),r))}}),[v,y]),Object(r.useEffect)((function(){if(null!==D&&""!==i&&"lisa"!==y.mapType)if(null!==y.fixedScale)I(f({bins:ue[y.fixedScale],colorScale:de[y.fixedScale]}));else{var t=D.custom_breaks(i,y.mapType,y.nBins,null,H(e[i],v.numerator,v.nType,v.nProperty,"dynamic"===y.binMode?v.nIndex:null,v.nRange,v.denominator,v.dType,v.dProperty,"dynamic"===y.binMode?v.dIndex:null,v.dRange,v.scale));I(f({bins:{bins:"natural_breaks"===y.mapType?t.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(s.a)(t.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:de[y.mapType]}))}}),[x,v.numerator,v.nProperty,v.nRange,v.denominator,v.dProperty,v.dRange,v.scale,y.mapType]),Object(r.useEffect)((function(){if(null!==D&&"dynamic"===y.binMode&&""!==i&&"lisa"!==y.mapType){var t=D.custom_breaks(i,y.mapType,y.nBins,null,H(e[i],v.numerator,v.nType,v.nProperty,v.nIndex,v.nRange,v.denominator,v.dType,v.dProperty,v.dIndex,v.dRange,v.scale));I(f({bins:{bins:"natural_breaks"===y.mapType?t.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(s.a)(t.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:de[y.mapType]}))}}),[v.nIndex,v.dIndex,y.binMode]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(Zt,{loaded:w}),Object(a.jsx)(qt,{}),Object(a.jsxs)("div",{id:"mainContainer",children:[Object(a.jsx)(Te,{}),Object(a.jsx)(It,{}),Object(a.jsx)(ct,{}),Object(a.jsx)(ht,{}),Object(a.jsx)(Kt,{})]})]})},en=n(154),tn={geodaProxy:null,storedData:{},storedGeojson:{},storedLisaData:{},storedCartogramData:{},storedCSV:{},cols:{},currentData:"",chartData:[{}],centroids:{},dates:{},currDate:"",currDateIndex:"",startDateIndex:"",currentVariable:"Confirmed Count per 100K Population",currentMethod:"natural_breaks",currentOverlay:"",currentResource:"",dataParams:{numerator:"cases",nType:"time-series",nProperty:null,nRange:7,nIndex:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},mapParams:{mapType:"natural_breaks",bins:{bins:[],breaks:[]},binMode:"",fixedScale:null,nBins:8,vizType:"2D",activeGeoid:"",overlay:"",resource:"",colorScale:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]]},panelState:{variables:!0,info:!1,chart:!0},storedRange:null,currentGeoid:"",sidebarData:{},anchorEl:null,mapLoaded:!1},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GEOID":return Object(J.a)(Object(J.a)({},e),{},{currentGeoid:t.payload.geoid});case"SET_STORED_DATA":var n=Object(J.a)({},e.storedData);return n[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{storedData:n});case"SET_STORED_GEOJSON":var a=Object(J.a)({},e.storedGeojson);return a[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{storedGeojson:a});case"SET_STORED_LISA_DATA":var r=Object(J.a)({},e.storedLisaData);return r[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{storedLisaData:r});case"SET_STORED_CARTOGRAM_DATA":var o=Object(J.a)({},e.storedCartogramData);return o[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{storedCartogramData:o});case"SET_CENTROIDS":var i=Object(J.a)({},e.centroids);return i[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{centroids:i});case"SET_CURRENT_DATA":return Object(J.a)(Object(J.a)({},e),{},{currentData:t.payload.data});case"SET_GEODA_PROXY":return Object(J.a)(Object(J.a)({},e),{},{geodaProxy:t.payload.proxy});case"SET_DATES":var c=Object(J.a)({},e.dates);return c[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{dates:c});case"SET_DATA_FUNCTION":return Object(J.a)(Object(J.a)({},e),{},{currentDataFn:t.payload.fn});case"SET_COLUMN_NAMES":var l=Object(J.a)({},e.cols);return l[t.payload.name]=t.payload.data,Object(J.a)(Object(J.a)({},e),{},{cols:l});case"SET_CURR_DATE":return Object(J.a)(Object(J.a)({},e),{},{currDate:t.payload.date});case"SET_DATE_INDEX":return Object(J.a)(Object(J.a)({},e),{},{currDateIndex:t.payload.index});case"SET_START_DATE_INDEX":return Object(J.a)(Object(J.a)({},e),{},{startDateIndex:t.payload.index});case"SET_BINS":var s={};return s.bins=t.payload.bins,s.breaks=t.payload.breaks,Object(J.a)(Object(J.a)({},e),{},{bins:s});case"SET_3D":return Object(J.a)(Object(J.a)({},e),{},{use3D:!e.use3D});case"SET_DATA_SIDEBAR":return Object(J.a)(Object(J.a)({},e),{},{sidebarData:t.payload.data});case"INCREMENT_DATE":var d=Object(J.a)({},e.dataParams);return t.payload.index+e.dataParams.nIndex>e.dates[e.currentData].length?(d.nIndex=e.startDateIndex,d.dIndex=e.startDateIndex,Object(J.a)(Object(J.a)({},e),{},{dataParams:d})):(d.nIndex=d.nIndex+t.payload.index,d.dIndex=d.dIndex+t.payload.index,Object(J.a)(Object(J.a)({},e),{},{dataParams:d}));case"SET_VARIABLE_PARAMS":var u=Object(J.a)(Object(J.a)({},e.dataParams),t.payload.params);return"time-series"===u.nType&&null===u.nIndex&&(u.nIndex=e.storedIndex,u.nRange=e.storedRange),"time-series"===u.dType&&null===u.dIndex&&(u.dIndex=e.storedIndex,u.dRange=e.storedRange),"characteristic"===u.nType&&"time-series"===e.dataParams.nType?Object(J.a)(Object(J.a)({},e),{},{storedIndex:e.dataParams.nIndex,storedRange:e.dataParams.nRange,dataParams:u}):Object(J.a)(Object(J.a)({},e),{},{dataParams:u});case"SET_MAP_PARAMS":var p=Object(J.a)(Object(J.a)({},e.mapParams),t.payload.params);return Object(J.a)(Object(J.a)({},e),{},{mapParams:p});case"SET_PANELS":var h=Object(J.a)(Object(J.a)({},e.panelState),t.payload.params);return Object(J.a)(Object(J.a)({},e),{},{panelState:h});case"SET_VARIABLE_NAME":return Object(J.a)(Object(J.a)({},e),{},{currentVariable:t.payload.name});case"SET_CHART_DATA":return Object(J.a)(Object(J.a)({},e),{},{chartData:t.payload.data});case"SET_ANCHOR_EL":return Object(J.a)(Object(J.a)({},e),{},{anchorEl:t.payload.anchorEl});case"SET_MAP_LOADED":return Object(J.a)(Object(J.a)({},e),{},{mapLoaded:t.payload.loaded});default:return e}},an=(n(610),n(337)),rn=n.n(an),on=Object(en.b)(nn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());rn.a.load({google:{families:["Lato:300,400,700,900","Playfair Display:ital","sans-serif"]}}),i.a.render(Object(a.jsx)(O.a,{store:on,children:Object(a.jsx)($t,{})}),document.getElementById("root"))}},[[611,1,2]]]);
//# sourceMappingURL=main.1078f03a.chunk.js.map