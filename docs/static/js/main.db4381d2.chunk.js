(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{234:function(e,t){},382:function(e,t){},562:function(e,t,n){},563:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(1),o=n.n(a),c=n(44),i=n.n(c),s=n(69),l=n.n(s),d=n(200),u=n(103),p=n(59),h=function(e,t){return{type:"SET_STORED_DATA",payload:{data:e,name:t}}},b=function(e,t){return{type:"SET_STORED_GEOJSON",payload:{data:e,name:t}}},j=function(e){return{type:"SET_CURRENT_DATA",payload:{data:e}}},g=function(e,t){return{type:"SET_COLUMN_NAMES",payload:{data:e,name:t}}},f=function(e){return{type:"SET_CURR_DATE",payload:{date:e}}},x=function(e){return{type:"SET_VARIABLE_PARAMS",payload:{params:e}}},O=function(e){return{type:"SET_MAP_PARAMS",payload:{params:e}}},m=function(e){return{type:"SET_ANCHOR_EL",payload:{anchorEl:e}}},y=n(25),v=n(301),_=n(302);window.Module;function w(e){return Number(e)===e&&e%1===0}var S=function(){function e(){Object(v.a)(this,e),this.geojson_maps={}}return Object(_.a)(e,[{key:"ReadGeojsonMap",value:function(e,t){var n=new Uint8Array(t.result),r=window.Module._malloc(n.length);window.Module.HEAPU8.set(n,r),window.Module.ccall("new_geojsonmap1",null,["string","number","number"],[e,r,n.length]),window.Module._free(r);var a=window.Module.get_map_type(e);return this.geojson_maps[e]=a,e}},{key:"Has",value:function(e){return e in this.geojson_maps}},{key:"List",value:function(){return this.geojson_maps}},{key:"GetCentroids",value:function(e){for(var t=window.Module.get_centroids(e),n=t.get_x(),r=t.get_y(),a=[],o=0;o<n.size();++o)a.push([n.get(o),r.get(o)]);return a}},{key:"GetNumObs",value:function(e){return window.Module.get_num_obs(e)}},{key:"GetMapType",value:function(e){return this.geojson_maps[e]}},{key:"GetNumericCol",value:function(e,t){return window.Module.get_numeric_col(e,t)}},{key:"CreateRookWeights",value:function(e,t,n,r){return window.Module.rook_weights(e,t,n,r)}},{key:"CreateQueenWeights",value:function(e,t,n,r){return window.Module.queen_weights(e,t,n,r)}},{key:"GetMinDistThreshold",value:function(e,t,n){return window.Module.min_distance_threshold(e,t,n)}},{key:"CreateKnnWeights",value:function(e,t,n,r,a,o){return window.Module.knn_weights(e,t,n,r,a,o)}},{key:"CreateDistWeights",value:function(e,t,n,r,a,o){return window.Module.dist_weights(e,t,n,r,a,o)}},{key:"CreateKernelWeights",value:function(e,t,n,r,a,o,c){return window.Module.kernel_weights(e,t,n,r,a,o,c)}},{key:"CreateKernelBandwidthWeights",value:function(e,t,n,r,a,o){return window.Module.kernel_bandwidth_weights(e,t,n,r,a,o)}},{key:"local_moran",value:function(e,t,n){return window.Module.local_moran(e,t,n)}},{key:"local_moran1",value:function(e,t,n){return window.Module.local_moran1(e,t,this.toVecDouble(n))}},{key:"local_g",value:function(e,t,n){return window.Module.local_g(e,t,n)}},{key:"local_gstar",value:function(e,t,n){return window.Module.local_gstar(e,t,n)}},{key:"local_geary",value:function(e,t,n){return window.Module.local_geary(e,t,n)}},{key:"local_joincount",value:function(e,t,n){return window.Module.local_joincount(e,t,n)}},{key:"GetNeighbors",value:function(e,t,n){var r=window.Module.get_neighbors(e,t,n);return this.parseVecInt(r)}},{key:"parseVecInt",value:function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t}},{key:"parseVecVecInt",value:function(e){for(var t=[],n=0;n<e.size();++n){for(var r=[],a=e.get(n),o=0;o<a.size();++o)r.push(a.get(o));t.push(r)}return t}},{key:"parseVecDouble",value:function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t}},{key:"toVecString",value:function(e){for(var t=new window.Module.VectorString,n=0;n<e.length;++n)t.push_back(e[n]);return t}},{key:"toVecDouble",value:function(e){for(var t=new window.Module.VectorDouble,n=0;n<e.length;++n)isNaN(e[n])||e[n]==1/0?t.push_back(0):t.push_back(e[n]);return t}},{key:"redcap",value:function(e,t,n,r,a,o,c){var i=this.toVecString(r),s=window.Module.redcap(e,t,n,i,a,o,c);return this.parseVecVecInt(s)}},{key:"maxp",value:function(e,t,n,r,a,o,c,i,s,l){var d=this.toVecString(r),u=window.Module.maxp(e,t,d,a,o,i,s,c,n,l);return this.parseVecVecInt(u)}},{key:"custom_breaks",value:function(e,t,n,r,a){var o;o=null==r?window.Module.custom_breaks1(e,n,t,this.toVecDouble(a)):window.Module.custom_breaks(e,n,r,t);for(var c=this.parseVecDouble(o),i=c,s=[],l=[],d=0;d<c.length;++d){l.push([]);var u=w(c[d])?c[d]:c[d].toFixed(2);s.push(""+u)}l.push([]);var p=c[c.length-1];void 0!=p&&(p=w(p)?p:p.toFixed(2),s.push(">"+p)),c.unshift(Number.NEGATIVE_INFINITY),c.push(Number.POSITIVE_INFINITY);for(var h=0;h<a.length;++h)for(var b=a[h],j=0;j<c.length-1;++j){var g=c[j],f=c[j+1];if(b>=g&&b<f){l[j].push(h);break}}for(var x=0;x<s.length;++x);return{k:n,bins:s,breaks:i,id_array:l}}},{key:"cartogram",value:function(e,t){for(var n=window.Module.cartogram(e,this.toVecDouble(t)),r=n.get_x(),a=n.get_y(),o=n.get_radius(),c=r.get(0),i=r.get(0),s=a.get(0),l=a.get(0),d=0;d<r.size();++d)c>r.get(d)&&(c=r.get(d)),i<r.get(d)&&(i=r.get(d)),s>a.get(d)&&(s=a.get(d)),l<a.get(d)&&(l=a.get(d));for(var u=100/(i-c),p=45/(l-s),h=[],b=0;b<r.size();++b){r.get(b),a.get(b);h.push({properties:{id:b},position:[r.get(b)/1e4,a.get(b)/1e4],radius:o.get(b)})}return h}}]),e}(),k=function(e,t,n,r,a,o,c,i,s){return void 0===e?0:null===o&&null===r?(e[t]||e[n])*s:null===o&&null!==r?(e[n]-e[n-r])/r*s:null!==o&&null===r?(e[t]||e[n])/(a[o]||a[c])*s:null!==o&&null!==r&&null===i?(e[n]-e[n-r])/r/(a[o]||a[c])*s:null!==o&&null!==r&&null!==i?(e[n]-e[n-r])/r/((a[c]-a[c-i])/i)*s:0},T=function(e,t,n,r){if("natural_breaks"===r){if(0==e)return n[0];for(var a=1;a<t.length;a++)if(e<t[a])return n[a];return n[0]}if(r.includes("hinge")){for(var o=1;o<t.length;o++)if(e<t[o])return n[o-1];return n[0]}};function I(){return(I=Object(u.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){var r=e.clone();return X(r,t,n),e.json()})).then((function(e){return{data:e,geoidIndex:W(e.features)}}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e,t){return I.apply(this,arguments)},P=n(639),D=n(616);function R(){return(R=Object(u.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){var t=P.a(e,D.a),a={},o=t.length;if(r)for(var c=H(Object.keys(t[0]))[1];o>0;){o--;for(var i=Object.values(t[o]),s=[],l=c,d=0;l<i.length;)l===c?s.push(i[l]):(s.push(i[l]+s[d]),d++),l++;for(var u=0;u<c;u++)s.unshift(i[u]);a[t[o][n]]=s}else for(;o>0;)a[t[--o][n]]=Object.values(t[o]);return[a,Object.keys(t[0])]}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e,t,n){return R.apply(this,arguments)},M=n(303),A=function(e,t,n,r,a){var o={},c={},i=(Object.keys(e.features[0]).length,e.features.length),s=parseInt(e.features[0].properties[t]);if(Number.isInteger(s))for(;i>0;)i--,o[parseInt(e.features[i].properties[t])]=e.features[i],c[parseInt(e.features[i].properties[t])]={};else for(;i>0;)i--,o[e.features[i].properties[t]]=e.features[i],c[e.features[i].properties[t]]={};for(var l=n.length;l>0;){l--;var d=Object.keys(n[l][0]);for(i=d.length;i>0;){i--;try{c[d[i]][r[l]]=n[l][0][d[i]]}catch(j){}}}for(var u=Object(M.merge)(o,c),p=[],h=Object.keys(u),b=0;b<h.length;b++)p.push(u[h[b]]);return p},L=function(e,t,n){return e[t].indexOf(n)},N=function(e,t,n,r){try{return e[t][n].indexOf(r)}catch(a){return null}},H=function(e){for(var t=0;t<e.length;t++)if(Date.parse(e[t]))return[e.slice(t),t]},B=function(e,t,n,r,a,o,c,i,s,l,d,u){var p=performance.now(),h=[],b=e.length;if(null===a&&null===r)for(var j=e[0][t].length-1,g="time-series"===i?e[0][c].length-1:l;b>0;)b--,h.unshift(k(e[b][t],r,j,o,e[b][c],s,g,d,u));else for(;b>0;)b--,h.unshift(k(e[b][t],r,a,o,e[b][c],s,l,d,u));return console.log(performance.now()-p),h},V=function(e,t,n,r){for(var a=performance.now(),o=Object.keys(e),c=n,i=[],s=-1;c<e[o[0]][t].length;){for(var l={},d=0,u=0;u<o.length;)void 0!==e[o[u]][t]&&(d+=e[o[u]][t][c]),u++;l.count=d,l.date=r[c-n],l.dailyNew=-1===s?d:d-i[s].count,i.push(l),c++,s++}return console.log(performance.now()-a),i},z=function(e,t,n,r,a,o,c,i,s,l,d,u,p){var h=performance.now(),b={},j=e.length;if(null===a&&null===r)for(var g=e[0][t].length-1,f="time-series"===i?e[0][c].length-1:l;j>0;)b[e[--j].properties.GEOID]=k(e[j][t],r,g,o,e[j][c],s,f,d,u);else for(;j>0;)b[e[--j].properties.GEOID]=k(e[j][t],r,a,o,e[j][c],s,l,d,u);var x=[];j=0;for(var O=Object.keys(p);j<O.length;)x.push(b[p[O[j]]]),j++;return console.log(performance.now()-h),x},G=function(e,t){var n=e.CreateQueenWeights(t,1,0,0);return{map_uuid:t,w:n,w_uuid:n.get_uid()}},F=function(e,t,n,r){for(var a=G(e,t),o=!0,c=0;c<n.length;++c)0!=n[c]&&(o=!1);var i=[],s=[];if(o)for(var l=0;l<n.length;++l)i.push(0),s.push(0);else{var d=e.local_moran1(a.map_uuid,a.w_uuid,n);i=e.parseVecDouble(d.clusters()),s=e.parseVecDouble(d.significances())}return i},U=function(e,t){return"".concat(e,"-").concat(t.numerator,"-").concat(t.nIndex,"-").concat(t.nRange,"-").concat(t.denominator,"-").concat(t.dProperty,"-").concat(t.dIndex,"-").concat(t.dRange,"-").concat(t.scale)},W=function(e){for(var t={},n={},r=0;r<e.length;)t[e[r].properties.GEOID]=r,n[r]=e[r].properties.GEOID,r++;return{geoidOrder:t,indexOrder:n}},X=function(){var e=Object(u.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:a=e.sent,r.ReadGeojsonMap(n.split("/").slice(-1)[0],{result:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y=n(16),K=n(46),q=n(630),J=n(637),Q=n(308),Z=n(617),$=n(199),ee=n(631),te={natural_breaks:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]],lisa:[[255,255,255],[255,0,0],[0,0,255],[167,173,249],[244,173,168]],hinge15_breaks:[[1,102,94],[90,180,172],[199,234,229],[246,232,195],[216,179,101],[140,81,10]],uninsured:[[240,240,240],[247,252,253],[224,236,244],[191,211,230],[158,188,218],[140,150,198],[140,107,177],[136,65,157],[129,15,124]],over65:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],lifeExp:[[240,240,240],[247,252,240],[224,243,219],[204,235,197],[168,221,181],[123,204,196],[78,179,211],[43,140,190],[8,104,172]],forecasting:[[240,240,240],[254,232,200],[253,187,132],[227,74,51]],testings:[[240,240,240],[13,8,135],[92,1,166],[156,23,158],[203,70,121],[237,121,83],[253,180,47],[240,249,33]],testingCap:[[240,240,240],[247,251,255],[222,235,247],[198,219,239],[158,202,225],[107,174,214],[66,146,198],[33,113,181],[8,81,156],[8,48,107]]},ne={testing:{bins:["No Data","<3%","5%","10%","15%","20%",">25%"],breaks:[0,3,5,10,15,20,25,Math.pow(10,12)]},testingCap:{bins:["No Data","<50","100","150","200","250","300","350",">400"],breaks:[0,50,100,150,200,250,300,350,400,Math.pow(10,12)]},lisa:{bins:["Not significant","High-High","Low-Low","Low-High","High-Low"]}},re={"county_usfacts.geojson":{geojson:"county_usfacts.geojson",csv:["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"county_1p3a.geojson":{geojson:"county_1p3a.geojson",csv:["covid_confirmed_1p3a","covid_deaths_1p3a","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:["covid_confirmed_1p3a","covid_deaths_1p3a"]},"county_nyt.geojson":{geojson:"county_nyt.geojson",csv:["covid_confirmed_nyt","covid_deaths_nyt","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],accumulate:[]},"state_1p3a.geojson":{geojson:"state_1p3a.geojson",csv:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state","chr_health_context_state","chr_life_state","chr_health_factors_state","covid_testing_1p3a_state","covid_wk_pos_1p3a_state","covid_tcap_1p3a_state","covid_ccpt_1p3a_state"],joinCols:["GEOID","FIPS"],tableNames:["cases","deaths","chr_health_context","chr_life","chr_health_factors","testing","testing_wk_pos","testing_tcap","testing_ccpt"],accumulate:["covid_confirmed_1p3a_state","covid_deaths_1p3a_state"]}},ae={Choropleth:Object(r.jsx)("p",{children:"A thematic map used to represent data through various shading patterns on predetermined geographic areas (counties, state)."}),NaturalBreaksFixed:Object(r.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for the latest date, bins fixed over time"}),NaturalBreaks:Object(r.jsx)("p",{children:"A nonlinear algorithm used to group observations such that the within-group homogeneity is maximized for every day, bins change over time"}),BoxMap:Object(r.jsx)("p",{children:"Mapping counterpart of the idea behind a box plot"}),LocalClustering:Object(r.jsx)("p",{children:"A map showing statisically significant spatial cluster and outlier locations, color coded by type."}),LocalMoran:Object(r.jsx)("p",{children:"Local Moran used to identify local clusters and outliers"}),NotSig:Object(r.jsx)("p",{children:"Area was not statistically signficant as a spatial cluster core or outlier using given parameters."}),HighHigh:Object(r.jsx)("p",{children:"Hot Spot Cluster: area with high values, neighbored by areas with high values"}),LowLow:Object(r.jsx)("p",{children:"Cold Spot Cluster: area with low values, neighbored by areas with low values"}),HighLow:Object(r.jsx)("p",{children:"Hot Outlier: area with high values, neighbored by areas with low values"}),LowHigh:Object(r.jsx)("p",{children:"Low-High Cold Outlier: area with low values, neighbored by areas with high values"}),PovChldPrc:Object(r.jsx)("p",{children:"Percentage of children under age 18 living in poverty"}),IncRt:Object(r.jsx)("p",{children:"Ratio of household income at the 80th percentile to income at the 20th percentile"}),MedianHouseholdIncome:Object(r.jsx)("p",{children:"The income where half of households in a county earn more and half of households earn less"}),FdInsPrc:Object(r.jsx)("p",{children:"Percentage of population who lack adequate access to food"}),UnEmplyPrc:Object(r.jsx)("p",{children:"Percentage of population age 16 and older unemployed but seeking work"}),UnInPrc:Object(r.jsx)("p",{children:"Percentage of people under age 65 without insurance"}),PrmPhysRt:Object(r.jsx)("p",{children:"Ratio of population to primary care physicians"}),PrevHospRt:Object(r.jsx)("p",{children:"Rate of hospital stays for ambulatory-care sensitive conditions per 100,000 Medicare enrollees"}),RsiSgrBlckRt:Object(r.jsx)("p",{children:"Index of dissimilarity where higher values indicate greater residential segregation between Black and White county residents"}),SvrHsngPrbRt:Object(r.jsx)("p",{children:"Percentage of households with at least 1 of 4 housing problems: overcrowding, high housing costs, lack of kitchen facilities, or lack of plumbing facilities"}),Over65YearsPrc:Object(r.jsx)("p",{children:"Percentage of people ages 65 and older"}),AdObPrc:Object(r.jsx)("p",{children:"Percentage of the adult population (age 20 and older) that reports a body mass index (BMI) greater than or equal to 30 kg/m2"}),AdDibPrc:Object(r.jsx)("p",{children:"Percentage of adults aged 20 and above with diagnosed diabetes"}),SmkPrc:Object(r.jsx)("p",{children:"Percentage of adults who are current smokers"}),ExcDrkPrc:Object(r.jsx)("p",{children:"Percentage of adults reporting binge or heavy drinking"}),DrOverdMrtRt:Object(r.jsx)("p",{children:"Number of drug poisoning deaths per 100,000 population"}),LfExpRt:Object(r.jsx)("p",{children:"Average number of years a person can expect to live"}),SlfHlthPrc:Object(r.jsx)("p",{children:"Percentage of adults reporting fair or poor health"}),SeverityIndex:Object(r.jsx)("p",{children:"Indicates the severity of the local covid-19 outbreak, based on cumulative and predicted deaths"}),PredictedDeaths:Object(r.jsx)("p",{children:"Predicted number of deaths for a county"}),PredictedDeathsInterval:Object(r.jsx)("p",{children:"Margin of error for predicted death counts for a county "}),healthfactor:Object(r.jsx)("p",{children:"Health factors represent those things we can modify to improve community conditions and the length and quality of life for residents"}),healthcontext:Object(r.jsx)("p",{children:"Community Health Context reflects the existing health behaviors and demographics of individuals in the community that are influenced by the opportunities to live long and well"}),healthlife:Object(r.jsx)("p",{children:"Length and Quality of Life reflects the physical and mental well-being of residents within a community through measures representing how long and how well residents live"}),Hypersegregated:Object(r.jsxs)("p",{children:["American metropolitan areas where black residents experience hypersegregation, see ",Object(r.jsx)("a",{href:"https://www.princeton.edu/news/2015/05/18/hypersegregated-cities-face-tough-road-change",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),BlackBelt:Object(r.jsxs)("p",{children:["Southern US counties that were at least 40% Black or African American in the 2000 Census, see ",Object(r.jsx)("a",{href:"https://en.wikipedia.org/wiki/Black_Belt_in_the_American_South",target:"_blank",rel:"noopener noreferrer",children:"here"})]}),TestingCapacity:Object(r.jsx)("p",{children:"New screening (e.g., antigen) and diagnostic (e.g., PCR) testing per capita rates by date. The suggested threshold is >150 daily tests per 100k people."}),USCongress:Object(r.jsxs)("p",{children:["Find your representative ",Object(r.jsx)("a",{href:"https://www.govtrack.us/",target:"_blank",rel:"noopener noreferrer",children:"here"})]})},oe=n(47);function ce(){var e=Object(K.a)(["\n    width:29px;\n    height:29px;\n    padding:5px;\n    margin-bottom:10px;\n    display:block;\n    background-color: ",";\n    -moz-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    -webkit-box-shadow: 0 0 2px rgba(0,0,0,.1);\n    box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n    border-radius: 4px;\n    outline:none;\n    border:none;\n    transition:250ms all;\n"]);return ce=function(){return e},e}function ie(){var e=Object(K.a)(["\n    background:#2b2b2b;\n    padding:20px;\n    color:white;\n    box-shadow: 0px 0px 5px rgba(0,0,0,0.7);\n    border-radius:0.5vh 0.5vh 0 0;\n    h3 {\n        margin:2px 0;\n    }\n"]);return ie=function(){return e},e}var se={latitude:35.850033,longitude:-105.6500523,zoom:3.5,pitch:0,bearing:0},le={CONTINENTS:"".concat(".","/geojson/world50m.json"),BLACKBELT:"".concat(".","/geojson/blackbelt_highlight.geojson"),SEG_CITIES:"".concat(".","/geojson/seg_cities.geojson"),CONGRESS_DISTRICTS:"".concat(".","/geojson/districts.geojson"),CONGRESS_CENTROIDS:"".concat(".","/geojson/district_centroids.geojson"),RESERVATIONS:"".concat(".","/geojson/reservations.geojson")},de=oe.a.div(ie()),ue=oe.a.button(ce(),(function(e){return e.isActive?"yellow":"#f5f5f5"})),pe=new J.a({id:"globe",controller:!1,resolution:1}),he=new Q.a({repeat:!0}),be=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(p.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(p.a)(d,2),h=u[0],b=(u[1],Object(a.useState)({})),j=Object(p.a)(b,2),g=j[0],f=j[1],x=Object(a.useState)(se),m=Object(p.a)(x,2),v=m[0],_=m[1],w=Object(y.c)((function(e){return e.storedData})),S=Object(y.c)((function(e){return e.storedGeojson})),I=Object(y.c)((function(e){return e.currentData})),E=Object(y.c)((function(e){return e.storedLisaData})),P=Object(y.c)((function(e){return e.dataParams})),D=Object(y.c)((function(e){return e.mapParams})),R=Object(y.b)();Object(a.useEffect)((function(){var e=E[U(I,P)];void 0!==e&&f(e)}),[E,P,D]);var C=[new ee.a({id:"base continents",data:le.CONTINENTS,pickable:!1,stroked:!1,filled:!0,wireframe:!1,getFillColor:[30,30,30]}),new ee.a({id:"choropleth",data:{type:"FeatureCollection",name:I,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:w[I]?w[I]:[]},visible:"cartogram"!==D.mapType,pickable:!0,stroked:!1,filled:!0,wireframe:D.use3d,extruded:D.use3d,opacity:D.use3d?1:.5,getFillColor:function(e){return function(e,t,n){return t.hasOwnProperty("bins")?"lisa"===n?te.lisa[g[S[I].geoidOrder[e.properties.GEOID]]]:T(k(e[P.numerator],P.nProperty,P.nIndex,P.nRange,e[P.denominator],P.dProperty,P.dIndex,P.dRange,P.scale),t.breaks,D.colorScale,D.mapType):[0,0,0]}(e,D.bins,D.mapType)},getElevation:function(e){return function(e,t){return t.hasOwnProperty("bins")?1e3*k(e[P.numerator],P.nProperty,P.nIndex,P.nRange,e[P.denominator],P.dProperty,P.dIndex,P.dRange,P.scale):0}(e,D.bins,D.mapType)},updateTriggers:{data:I,getFillColor:[P,D],getElevation:[P,D]},onHover:function(e){try{o(e)}catch(t){o(null)}},onClick:function(e){try{R({type:"SET_DATA_SIDEBAR",payload:{data:e.object}}),l(e.object.properties.GEOID)}catch(t){}}}),new ee.a({id:"highlightLayer",data:{type:"FeatureCollection",name:I,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:w[I]?w[I]:[]},pickable:!1,stroked:!0,filled:!1,getLineColor:function(e){return s===e.properties.GEOID?[255,255,255]:[255,255,255,0]},lineWidthScale:10,getLineWidth:1,lineWidthMinPixels:2,updateTriggers:{data:I,getLineColor:s}}),new ee.a({id:"blackbelt",data:le.BLACKBELT,pickable:!1,stroked:!1,filled:!0,getLineColor:[0,0,0],opacity:.2,visible:"blackbelt"===D.overlay,updateTriggers:{visible:D}}),new ee.a({id:"segregated cities",data:le.SEG_CITIES,pickable:!1,stroked:!1,filled:!0,getLineColor:[0,0,0],opacity:.2,visible:"segregated_cities"===D.overlay,updateTriggers:{visible:D}}),new ee.a({id:"native american reservations",data:le.RESERVATIONS,pickable:!1,stroked:!1,filled:!0,getLineColor:[0,0,0],opacity:.2,visible:"native_american_reservations"===D.overlay,updateTriggers:{visible:D}}),new ee.a({id:"congressional distrcits",data:le.CONGRESS_DISTRICTS,pickable:!1,stroked:!0,filled:!1,getLineColor:[0,0,0],lineWidthMinPixels:1,visible:"congressional_districts"===D.overlay,updateTriggers:{visible:D}})];return Object(r.jsx)("div",{id:"mapContainer",style:{position:"fixed",left:0,top:0,width:"100%",height:"100%"},children:Object(r.jsxs)(q.a,{initialViewState:v,controller:!0,layers:C,views:h?pe:he,children:[Object(r.jsxs)($.c,{reuseMaps:!0,mapStyle:h?"mapbox://styles/lixun910/ckhtcdx4b0xyc19qzlt4b5c0d":"mapbox://styles/lixun910/ckhkoo8ix29s119ruodgwfxec",preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoibGl4dW45MTAiLCJhIjoiY2locXMxcWFqMDAwenQ0bTFhaTZmbnRwaiJ9.VRNeNnyb96Eo-CorkJmIqg",children:[Object(r.jsxs)("div",{style:{position:"absolute",right:10,bottom:30,zIndex:10},children:[Object(r.jsx)(ue,{onClick:function(){D.use3d?(R(O({use3d:!1})),_((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{bearing:0,pitch:0,zoom:3.5,transitionInterpolator:new Z.a,transitionDuration:250})}))):(R(O({use3d:!0})),_((function(e){return Object(Y.a)(Object(Y.a)({},e),{},{bearing:-30,pitch:45,zoom:3.5,transitionInterpolator:new Z.a,transitionDuration:250})})))},isActive:D.use3d,children:Object(r.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(r.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(r.jsx)("path",{d:"M109,23.7c0-1-0.2-1.9-0.7-2.8c-0.1-0.2-0.3-0.4-0.5-0.7c-0.4-0.6-0.8-1.1-1.3-1.5l0,0L54.1-20.5c-2.3-1.7-5.5-1.7-7.9,0\r L-6.2,18.8l0,0c-0.5,0.4-1,0.9-1.3,1.5C-7.7,20.5-7.8,20.7-8,21c-0.6,0.8-0.9,1.8-1,2.8v52.5c0,0,0,0,0,0.5c0.2,1.7,1,3.3,2.2,4.5\r v0.3l52.5,39.3l0.9,0.5l0.7,0.4c1.5,0.6,3.2,0.6,4.7,0l0.7-0.4l0.9-0.5l52.5-39.3v-0.3c1.3-1.2,2.1-2.8,2.2-4.5c0,0,0,0,0-0.5\r L109,23.7z M4.1,36.8l39.3,29.5v36.1L4.1,72.9V36.8z M56.6,66.3l39.3-29.5v36.1l-39.3,29.5V66.3z M50-7.4l41.5,31.1L50,54.9\r L8.5,23.7L50-7.4z"})})})}),Object(r.jsx)($.a,{positionOptions:{enableHighAccuracy:!1},trackUserLocation:!1,onGeolocate:function(e){return function(e){console.log(e),_((function(t){return Object(Y.a)(Object(Y.a)({},t),{},{latitude:e.coords.latitude,longitude:e.coords.longitude,zoom:8,transitionInterpolator:new Z.a,transitionDuration:250})}))}(e)},style:{marginBottom:10}}),Object(r.jsx)($.b,{onViewportChange:function(e){return _(e)}})]}),Object(r.jsx)("div",{})]}),n.object&&Object(r.jsxs)(de,{style:{position:"absolute",zIndex:1,pointerEvents:"none",left:n.x,top:n.y},children:[n.object.properties&&Object(r.jsxs)("h3",{children:["".concat(n.object.properties.NAME)," ",void 0!==n.object.properties.state_name&&", ".concat(n.object.properties.state_name)]}),n.object.cases&&Object(r.jsxs)("div",{children:["Cases: ",n.object.cases.slice(-1)[0].toLocaleString("en"),Object(r.jsx)("br",{}),"Deaths: ",n.object.deaths.slice(-1)[0].toLocaleString("en"),Object(r.jsx)("br",{}),"New Cases: ",(n.object.cases.slice(-1)[0]-n.object.cases.slice(-2,-1)[0]).toLocaleString("en"),Object(r.jsx)("br",{}),"New Deaths: ",(n.object.deaths.slice(-1)[0]-n.object.deaths.slice(-2,-1)[0]).toLocaleString("en"),Object(r.jsx)("br",{})]})]})]})})},je=n(620),ge=n(640),fe=n(566),xe=n(624);function Oe(){var e=Object(K.a)(["\n    width:92% !important;\n    span.MuiSlider-rail {\n        color:white;\n    }\n    span.MuiSlider-track {\n        color:white;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return Oe=function(){return e},e}function me(){var e=Object(K.a)(["\n    width:92% !important;\n    span.MuiSlider-rail {\n        color:white;\n    }\n    span.MuiSlider-track {\n        color:white;\n    }\n    span.MuiSlider-thumb {\n        color:white;\n        .MuiSlider-valueLabel {\n            transform:translateY(-10px);\n            pointer-events:none;\n            span {\n                background: none;\n            }\n        }\n    }\n    span.MuiSlider-thumb.MuiSlider-active: {\n        box-shadow: 0px 0px 10px rgba(200,200,200,0.5);\n    }\n"]);return me=function(){return e},e}function ye(){var e=Object(K.a)(["\n    background:none;\n    transform:translateY(-100%);\n    svg {\n        width: 100%;\n        g {\n            fill: white;\n        }\n    }\n"]);return ye=function(){return e},e}function ve(){var e=Object(K.a)(["\n    color:rgb(200,200,200) !important;\n    background: none;\n    transition: 250ms all;\n    border:none !important;\n    font-size: 75% !important;\n    transition:250ms all;\n    &:hover {\n        color:white;\n        border:none !important;\n    }\n    &.active {\n        cursor: initial;\n        font-size: 75%;\n        color:black !important;\n        background: white !important;\n        transition: 250ms all;\n        border:none !important;\n    }\n    .MuiButtonGroup-vertical {\n        border:none !important;\n    }\n    .MuiButton-label {\n        justify-content: left !important;\n        text-transform:none;\n        font-family:'Lato', sans-serif;\n        font-weight:bold;\n    }\n"]);return ve=function(){return e},e}function _e(){var e=Object(K.a)(["\n    width: 100%;\n    margin: 0;\n    padding: 5px 20px;\n    color: white;\n"]);return _e=function(){return e},e}var we=Object(oe.a)(je.a)(_e()),Se=Object(oe.a)(fe.a)(ve()),ke=Object(oe.a)(fe.a)(ye()),Te=Object(oe.a)(ge.a)(me()),Ie=Object(oe.a)(ge.a)(Oe()),Ee=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.currentData})),n=Object(y.c)((function(e){return e.dates})),o=Object(y.c)((function(e){return e.dataParams})),c=Object(y.c)((function(e){return e.startDateIndex})),i=Object(a.useState)(null),s=Object(p.a)(i,2),l=s[0],d=s[1],u=Object(a.useState)(!1),h=Object(p.a)(u,2),b=h[0],j=h[1],g=function(t){"custom"===t?(j(!0),"time-series"===o.nType&&"time-series"===o.dType?e(x({nRange:14,dRange:14})):"time-series"===o.nType?e(x({nRange:14})):"time-series"===o.dType&&e(x({dRange:14}))):(j(!1),"time-series"===o.nType&&"time-series"===o.dType?e(x({nRange:t,dRange:t})):"time-series"===o.nType?e(x({nRange:t})):"time-series"===o.dType&&e(x({dRange:t})))};function O(e){return"".concat(n[t][e])}return void 0!==n[t]?Object(r.jsxs)(we,{container:!0,spacing:2,id:"slider-container",style:{visibility:"time-series"===o.nType?"visible":"hidden"},children:[Object(r.jsx)(je.a,{item:!0,xs:1,children:Object(r.jsx)(ke,{id:"playPause",onClick:function(){return function(t,n,r){null===t?d(setInterval((function(t){return e({type:"INCREMENT_DATE",payload:{index:n}})}),r)):(clearInterval(t),d(null))}(l,1,100)},children:null===l?Object(r.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(r.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(r.jsx)("g",{children:Object(r.jsx)("path",{d:"M74.4,58.7L40.7,92.2c-7.1,7.2-18.7,4.4-18.7-6.3V14c0-10.7,11.6-13.5,18.7-6.3l33.6,33.5\r C79.1,46,79.1,53.8,74.4,58.7z M69.1,53.4c1.9-1.9,1.9-5,0-6.7L35.5,13c-2.1-2.1-6-3.2-6,1.1V86c0,4.3,3.9,3.2,6,1.1L69.1,53.4z"})})})}):Object(r.jsx)("svg",{x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(r.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(r.jsx)("g",{children:Object(r.jsx)("path",{d:"M22.4,0.6c3.4,0,6.8,0,10.3,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8\r c-3.4,0-6.8,0-10.3,0c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C10.6,5.9,15.9,0.6,22.4,0.6z M22.4,6.5c3.4,0,6.8,0,10.3,0\r c3.2,0,5.9,2.6,5.9,5.9c0,25,0,50.1,0,75.2c0,3.2-2.7,5.9-5.9,5.9c-3.4,0-6.8,0-10.3,0c-3.2,0-5.9-2.7-5.9-5.9\r c0-25.1,0-50.2,0-75.2C16.5,9.1,19.2,6.5,22.4,6.5z M67.3,6.5c3.4,0,6.8,0,10.2,0s6,2.6,6,5.9c0,25,0,50.1,0,75.2\r c0,3.2-2.7,5.9-6,5.9s-6.7,0-10.2,0c-3.3,0-5.9-2.7-5.9-5.9c0-25.1,0-50.2,0-75.2C61.4,9.1,64,6.5,67.3,6.5z M67.3,0.6\r c3.4,0,6.8,0,10.2,0c6.5,0,11.8,5.3,11.8,11.8c0,25,0,50.1,0,75.2c0,6.5-5.3,11.8-11.8,11.8c-3.3,0-6.7,0-10.2,0\r c-6.5,0-11.8-5.3-11.8-11.8c0-25.1,0-50.2,0-75.2C55.5,5.9,60.8,0.6,67.3,0.6z"})})})})})}),Object(r.jsxs)(je.a,{item:!0,xs:9,children:[!b&&Object(r.jsx)(Te,{value:o.nIndex,valueLabelDisplay:"on",onChange:function(r,a){"time-series"===o.nType&&"time-series"===o.dType?e(x({nIndex:a,dIndex:a})):"time-series"===o.nType?e(x({nIndex:a})):"time-series"===o.dType&&e(x({dIndex:a})),e(f(n[t][a]))},getAriaValueText:O,valueLabelFormat:O,"aria-labelledby":"aria-valuetext",min:c,step:1,max:n[t].length-1}),b&&Object(r.jsx)(Ie,{value:[o.nIndex-o.nRange,o.nIndex],valueLabelDisplay:"on",onChange:function(t,n){o.dRange?e(x({nIndex:n[1],nRange:n[1]-n[0],rIndex:n[1],rRange:n[1]-n[0]})):e(x({nIndex:n[1],nRange:n[1]-n[0]}))},getAriaValueText:O,valueLabelFormat:O,"aria-labelledby":"aria-valuetext",min:c,step:1,max:n[t].length-1})]}),Object(r.jsx)(je.a,{item:!0,xs:2,style:{marginTop:"-120px"},children:Object(r.jsxs)(xe.a,{orientation:"vertical",color:"primary","aria-label":"vertical text primary button group",style:{float:"right"},children:[Object(r.jsx)(Se,{className:null===o.nRange?"active":"",onClick:function(){return g(null)},children:"Cumulative"}),Object(r.jsx)(Se,{className:1===o.nRange?"active":"",onClick:function(){return g(1)},children:"New Daily"}),Object(r.jsx)(Se,{className:7===o.nRange?"active":"",onClick:function(){return g(7)},children:"Weekly Average"}),Object(r.jsx)(Se,{className:b?"active":"",onClick:function(){return g("custom")},children:"Custom Range"})]})})]}):Object(r.jsx)(we,{})};function Pe(){var e=Object(K.a)(["\n    width:100%;\n    display: flex;\n    box-sizing: border-box;\n    .bin { \n        height:10px;\n        display: inline;\n        flex:1;\n        border:0;\n        margin:0;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return Pe=function(){return e},e}function De(){var e=Object(K.a)(["\n    width:100%;\n    display: flex;\n    box-sizing: border-box;\n    padding: 0 ","%;\n    .bin { \n        height:10px;\n        display: inline;\n        border:0;\n        margin:0;\n        flex:2;\n        color:white;\n        font-size:10px;\n        text-align: center;\n    }\n    .bin:nth-of-type(1) {\n        transform: ",";\n    }\n"]);return De=function(){return e},e}function Re(){var e=Object(K.a)(["\n    text-align: left;\n    font-family:'Montserrat', sans-serif;\n    padding:0 0 10px 0;\n    margin:0;\n    color:white;\n"]);return Re=function(){return e},e}function Ce(){var e=Object(K.a)(["\n    width:100%;\n    padding:20px;\n    margin:0;\n    box-sizing: border-box;\n"]);return Ce=function(){return e},e}var Me=oe.a.div(Ce()),Ae=oe.a.h3(Re()),Le=oe.a.div(De(),(function(e){return e.binLength>6?100/e.binLength/2-1:0}),(function(e){return e.firstBinZero?"translateX(-45%)":"none"})),Ne=oe.a.div(Pe(),(function(e){return e.firstBinZero?"scaleX(0.35)":"none"})),He=function(){var e=Object(y.c)((function(e){return e.mapParams})),t=(Object(y.c)((function(e){return e.dataParams})),Object(y.c)((function(e){return e.currentVariable})));return Object(r.jsx)(Me,{children:Object(r.jsxs)(je.a,{container:!0,spacing:2,id:"legend-bins-container",children:[Object(r.jsx)(je.a,{item:!0,xs:6,children:Object(r.jsx)(Ae,{children:t})}),Object(r.jsxs)(je.a,{item:!0,xs:6,children:[Object(r.jsx)(Ne,{firstBinZero:"240,240,240"==="".concat(e.colorScale[0]),children:void 0!==e.colorScale&&e.colorScale.map((function(e){return Object(r.jsx)("div",{className:"bin color",style:{backgroundColor:"rgb(".concat(e[0],",").concat(e[1],",").concat(e[2],")")}},"".concat(e[0]).concat(e[1]))}))}),Object(r.jsxs)(Le,{firstBinZero:"240,240,240"==="".concat(e.colorScale[0]),binLength:e.bins.bins.length,children:["240,240,240"==="".concat(e.colorScale[0])&&Object(r.jsx)("div",{className:"bin firstBin",children:"0"}),void 0!==e.bins.bins&&function(e){if(void 0!==e)return e.slice(-1)[0]!==">".concat(e.slice(-2,-1)[0])||(e.splice(0,1,"<".concat(e[0])),e.splice(-2,1)),e}(e.bins.bins).map((function(e){return Object(r.jsx)("div",{className:"bin label",children:e},e)}))]})]})]})})};function Be(){var e=Object(K.a)(["\n  position:fixed;\n  right:0;\n  top:0;\n  height:100vh;\n  min-width:200px;\n  background-color: #2b2b2b;\n  box-shadow: -2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color: white;\n  font-size:100%;\n  padding:0;\n  z-index:5;\n  div.container {\n    width:100%;\n    height:100vh;\n    overflow-y:scroll;\n    padding:5px 0 0 30px;\n    box-sizing:border-box;\n    div {\n      padding-right:20px;\n      box-sizing:border-box;\n    }\n  }\n  button#showHideRight {\n    position:absolute;    \n    right:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: #2b2b2b;\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg {\n      padding:0;\n      margin:0;\n      fill:white;\n      transform:rotate(180deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      color:white;\n      position: relative;\n      top:-30px;\n      transition:500ms all;\n      content: 'Info';\n      right:40px;\n      z-index:4;\n    }\n  }\n  button#showHideRight.hidden {\n    right:100%;\n    svg {\n      transform:rotate(0deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return Be=function(){return e},e}var Ve=oe.a.div(Be()),ze=function(){var e=Object(a.useState)(!0),t=Object(p.a)(e,2),n=t[0],o=t[1],c=Object(y.c)((function(e){return e.sidebarData})),i=Object(y.c)((function(e){return e.currentData})),s=Object(y.c)((function(e){return e.cols})),l=function(e){return"".concat(e.slice(-2)[0],"/").concat(e.slice(-1)[0])};return Object(r.jsx)(Ve,{style:{transform:n?"translateX(100%)":""},children:Object(r.jsxs)("div",{className:"container",children:[c.properties&&Object(r.jsxs)("h2",{children:[c.properties.NAME,", ",c.properties.state_name]}),c.properties&&Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Population: ",c.properties.population.toLocaleString("en")]})}),c.cases&&c.deaths&&Object(r.jsx)("div",{children:Object(r.jsxs)("p",{children:["Total Cases: ",c.cases.slice(-1)[0].toLocaleString("en"),Object(r.jsx)("br",{}),"Total Deaths: ",c.deaths.slice(-1)[0].toLocaleString("en"),Object(r.jsx)("br",{}),"Cases per 100k Population: ",k(c.cases,null,c.cases.length-1,null,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(r.jsx)("br",{}),"Deaths per 100k Population: ",k(c.deaths,null,c.deaths.length-1,null,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(r.jsx)("br",{}),"New Cases per 100k Population: ",k(c.cases,null,c.cases.length-1,1,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(r.jsx)("br",{}),"New Deaths per 100k Population: ",k(c.deaths,null,c.deaths.length-1,1,c.properties,"population",null,null,1e5).toFixed(2).toLocaleString("en"),Object(r.jsx)("br",{}),"Licensed Hospital Beds: ",c.properties.beds.toLocaleString("en"),Object(r.jsx)("br",{}),"Cases per Bed: ",k(c.cases,null,c.cases.length-1,null,c.properties,"beds",null,null,1).toFixed(2).toLocaleString("en"),Object(r.jsx)("br",{})]})}),c.chr_health_factors&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Community Health Factors"}),Object(r.jsxs)("p",{children:["Children in poverty %: ",c.chr_health_factors[N(s,i,"chr_health_factors","PovChldPrc")],Object(r.jsx)("br",{}),"Income inequality: ",c.chr_health_factors[N(s,i,"chr_health_factors","IncRt")],Object(r.jsx)("br",{}),"Median household income: ",c.chr_health_factors[N(s,i,"chr_health_factors","MedianHouseholdIncome")].toLocaleString("en"),Object(r.jsx)("br",{}),"Food insecurity %: ",c.chr_health_factors[N(s,i,"chr_health_factors","FdInsPrc")],Object(r.jsx)("br",{}),"Unemployment %: ",c.chr_health_factors[N(s,i,"chr_health_factors","UnEmplyPrc")],Object(r.jsx)("br",{}),"Uninsured %: ",c.chr_health_factors[N(s,i,"chr_health_factors","UnInPrc")],Object(r.jsx)("br",{}),"Primary care physicians: ",c.chr_health_factors[N(s,i,"chr_health_factors","PrmPhysRt")],Object(r.jsx)("br",{}),"Preventable hospital stays: ",c.chr_health_factors[N(s,i,"chr_health_factors","PrevHospRt")].toLocaleString("en"),Object(r.jsx)("br",{}),"Residential segregation-black/white: ",c.chr_health_factors[N(s,i,"chr_health_factors","RsiSgrBlckRt")],Object(r.jsx)("br",{}),"Severe housing problems %: ",c.chr_health_factors[N(s,i,"chr_health_factors","SvrHsngPrbRt")],Object(r.jsx)("br",{})]})]}),c.chr_health_context&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Community Health Context"}),Object(r.jsxs)("p",{children:["% 65 and older: ",c.chr_health_context[N(s,i,"chr_health_context","Over65YearsPrc")]," ",Object(r.jsx)("br",{}),"Adult obesity %: ",c.chr_health_context[N(s,i,"chr_health_context","AdObPrc")]," ",Object(r.jsx)("br",{}),"Diabetes prevalence %: ",c.chr_health_context[N(s,i,"chr_health_context","AdDibPrc")]," ",Object(r.jsx)("br",{}),"Adult smoking %: ",c.chr_health_context[N(s,i,"chr_health_context","SmkPrc")]," ",Object(r.jsx)("br",{}),"Excessive drinking %: ",c.chr_health_context[N(s,i,"chr_health_context","ExcDrkPrc")]," ",Object(r.jsx)("br",{}),"Drug overdose deaths: ",c.chr_health_context[N(s,i,"chr_health_context","DrOverdMrtRt")]||"0"," ",Object(r.jsx)("br",{})]})]}),c.chr_life&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Length and Quality of Life"}),Object(r.jsxs)("p",{children:["Life expectancy: ",c.chr_life[N(s,i,"chr_life","LfExpRt")]," ",Object(r.jsx)("br",{}),"Self-rated health %: ",c.chr_life[N(s,i,"chr_life","SlfHlthPrc")]," ",Object(r.jsx)("br",{})]})]}),c.predictions&&Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Predictions"}),Object(r.jsxs)("p",{children:["5-Day Severity Index: ",["","High","Medium","Low"][c.predictions[1]]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[2].split("_")),": ",c.predictions[2]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[4].split("_")),": ",c.predictions[4]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[6].split("_")),": ",c.predictions[6]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[8].split("_")),": ",c.predictions[8]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[10].split("_")),": ",c.predictions[10]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[12].split("_")),": ",c.predictions[12]," ",Object(r.jsx)("br",{}),"Predicted Deaths by ",l(s[i].predictions[14].split("_")),": ",c.predictions[14]," ",Object(r.jsx)("br",{})]})]}),c!=={}&&Object(r.jsx)("button",{onClick:function(){return o((function(e){return!e}))},id:"showHideRight",className:n?"hidden":"active",children:Object(r.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(r.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(r.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})})},Ge=n(626),Fe=n(641),Ue=n(627),We=n(567),Xe=n(625),Ye=n(642),Ke=n(632),qe=n(635),Je=n(638);function Qe(){var e=Object(K.a)(["\n    width:12.5px;\n    height:12.5px;\n    background:url('","/assets/img/info.png');\n    background-repeat: no-repeat;\n    background-size: cover;\n    outline:none;\n    border:none;\n    padding:0;\n    margin:4px;\n"]);return Qe=function(){return e},e}var Ze=oe.a.button(Qe(),"."),$e=function(e){var t=Object(y.b)();return Object(r.jsx)(Ze,{id:e.id,onMouseEnter:function(e){t(m(e.currentTarget))},onMouseLeave:function(){}})};function et(){var e=Object(K.a)(["\n  width:100%;\n  .MuiFormControl-root {\n    width:45%;\n    min-width:60px;\n    margin-right:5px;\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(K.a)(["\n  padding:0 0 40px 0!important;\n  color:white;\n  padding:0;\n  margin: 0 10px 40px 0;\n  .MuiInputBase-root {\n    font-family: 'Lato', sans-serif;\n  }\n  .MuiFormLabel-root {\n    color: white;\n    font-family: 'Lato', sans-serif;\n  }\n  .Mui-focused {\n    color: white !important;\n  }\n  .MuiInput-underline:before {\n    border-bottom:1px solid rgba(255,255, 255, 0.42);\n  }\n  .MuiInput-underline:after {\n    border-bottom: 2px solid white\n  }\n  .MuiInputBase-root {\n    color: white;\n    .MuiSvgIcon-root {\n      color: rgba(255,255,255,0.54);\n    },\n    .MuiPopover-paper {\n      color:white;\n    }\n  }\n  .MuiFormGroup-root {\n    .MuiFormControlLabel-root{\n      color:white;\n      span {\n        font-family: 'Lato', sans-serif;\n      }\n      .MuiRadio-root {\n        color: rgba(255,255,255,0.54);\n      }\n    }\n  }\n  .MuiRadio-root {\n    color:white;\n  }\n  .MuiRadio-colorSecondary.Mui-checked {\n    color:white;\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(K.a)(["\n  position:fixed;\n  left:0;\n  top:0;\n  height:100vh;\n  min-width:200px;\n  background-color: #2b2b2b;\n  box-shadow: 2px 0px 5px rgba(0,0,0,0.7);\n  padding:20px;\n  box-sizing: border-box;\n  transition:250ms all;\n  font: 'Lato', sans-serif;\n  color:white;\n  z-index:50;\n  p.note {\n    position: absolute;\n    bottom:100px;\n    width:calc(100% - 40px);\n    font-family: 'Lato', sans-serif;\n    font-weight:300;\n    font-size:90%;\n    a {\n      color:yellow;\n      text-decoration: none;\n    }\n  }\n  div.poweredByGeoda {\n    position: absolute;\n    bottom: 40px;\n    color:white;\n    width:100%;\n    text-align:center;\n    transform:translateX(-20px);\n    a {\n      color:white;\n      margin:0 auto;\n      text-decoration: none;\n      letter-spacing: 2px;\n      font-size:75%;\n      img {\n        width:23px;\n        height:27px;\n        transform: translate(-50%,40%);\n      }\n    }\n  }\n  button#showHideLeft {\n    position:absolute;\n    left:95%;\n    top:20px;\n    width:40px;\n    height:40px;\n    padding:0;\n    margin:0;\n    background-color: #2b2b2b;\n    box-shadow: 0px 0px 6px rgba(0,0,0,1);\n    outline:none;\n    border:none;\n    cursor: pointer;\n    transition:500ms all;\n    svg { \n      padding:0;\n      margin:0;\n      fill:white;\n      transform:rotate(0deg);\n      transition:500ms all;\n    }\n    :after {\n      opacity:0;\n      font-weight:bold;\n      content: 'Variables';\n      color:white;\n      position: relative;\n      right:-50px;\n      top:-30px;\n      transition:500ms all;\n      z-index:4;\n    }\n  }\n  button#showHideLeft.hidden {\n    left:100%;\n    svg {\n      transform:rotate(180deg);\n    }\n    :after {\n      opacity:1;\n    }\n  }\n"]);return nt=function(){return e},e}var rt=oe.a.div(nt()),at=Object(oe.a)(Xe.a)(tt()),ot=oe.a.div(et()),ct=function(e){var t=Object(y.b)(),n=Object(y.c)((function(e){return e.cols})),c=Object(y.c)((function(e){return e.currentData})),i=Object(y.c)((function(e){return e.currentVariable})),s=Object(y.c)((function(e){return e.mapParams})),l=Object(a.useState)(!1),d=Object(p.a)(l,2),u=d[0],h=d[1],b=o.a.useState(null),g=Object(p.a)(b,2),f=(g[0],g[1],{"HEADER:cases":{},"Confirmed Count":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Confirmed Count per 100K Population":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},"Confirmed Count per Licensed Bed":{numerator:"cases",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"beds",dRange:null,dIndex:null,scale:1},"HEADER:deaths":{},"Death Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"Death Count per 100K Population":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},"Death Count / Confirmed Count":{numerator:"deaths",nType:"time-series",nProperty:null,denominator:"cases",dType:"time-series",dProperty:null,scale:1},"HEADER:community health":{},"Uninsured % (Community Health Factor)":{numerator:"chr_health_factors",nType:"characteristic",nProperty:N(n,c,"chr_health_factors","UnInPrc"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:te.uninsured},"Over 65 Years % (Community Health Context)":{numerator:"chr_health_context",nType:"characteristic",nProperty:N(n,c,"chr_health_context","Over65YearsPrc"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:te.over65},"Life expectancy (Length and Quality of Life)":{numerator:"chr_life",nType:"characteristic",nProperty:N(n,c,"chr_life","LfExpRt"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1,colorScale:te.lifeExp}}),m={"HEADER:forecasting":{},"Forecasting (5-Day Severity Index)":{numerator:"predictions",nType:"characteristic",nProperty:N(n,c,"predictions","severity_index"),nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}},v={"HEADER:testing":{},"7 Day Testing Positivity Rate %":{numerator:"testing_wk_pos",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"7 Day Testing Capacity":{numerator:"testing_tcap",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1},"7 Day Confirmed Cases per Testing %":{numerator:"testing_ccpt",nType:"time-series",nProperty:null,nRange:null,denominator:"properties",dType:"none",dProperty:null,dRange:null,dIndex:null,scale:1}};return Object(r.jsxs)(rt,{style:{transform:u?"translateX(-100%)":""},children:[Object(r.jsxs)("h2",{children:["Data Sources &",Object(r.jsx)("br",{})," Map Variables"]}),Object(r.jsxs)(at,{children:[Object(r.jsx)(Ge.a,{htmlFor:"data-select",children:"Data Source"}),Object(r.jsxs)(Ke.a,{id:"data-select",value:c,onChange:function(e){t(j(e.target.value))},children:[Object(r.jsx)(Ue.a,{children:"county data"}),Object(r.jsx)(Fe.a,{value:"county_usfacts.geojson",children:"USA Facts"},"county_usfacts.geojson"),Object(r.jsx)(Fe.a,{value:"county_nyt.geojson",children:"New York Times"},"county_nyt.geojson"),Object(r.jsx)(Fe.a,{value:"county_1p3a.geojson",children:"1point3acres"},"county_1p3a.geojson"),Object(r.jsx)(Ue.a,{children:"state data"}),Object(r.jsx)(Fe.a,{value:"state_1p3a.geojson",children:"1point3acres"},"state_1p3a.geojson"),Object(r.jsx)(Fe.a,{value:"state_nyt.geojson",disabled:!0,children:"New York Times"},"state_nyt.geojson")]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)(at,{children:[Object(r.jsx)(Ge.a,{htmlFor:"numerator-select",children:"Select Variable"}),Object(r.jsxs)(Ke.a,{value:i,id:"numerator-select",onChange:function(e){var n=e.target.value;t({type:"SET_VARIABLE_NAME",payload:{name:n}}),f.hasOwnProperty(n)?f[n].hasOwnProperty("colorScale")?(t(O({colorScale:f[n].colorScale})),t(x(Object(Y.a)({},f[n])))):(t(O({colorScale:te.natural_breaks})),t(x(Object(Y.a)({},f[n])))):m.hasOwnProperty(n)?m[n].hasOwnProperty("colorScale")?(t(O({colorScale:m[n].colorScale})),t(x(Object(Y.a)({},m[n])))):(t(O({colorScale:te.natural_breaks})),t(x(Object(Y.a)({},m[n])))):v[n].hasOwnProperty("colorScale")?(t(O({colorScale:v[n].colorScale})),t(x(Object(Y.a)({},v[n])))):(t(O({colorScale:te.natural_breaks})),t(x(Object(Y.a)({},v[n]))))},children:[Object.keys(f).map((function(e){return"HEADER"===e.split(":")[0]?Object(r.jsx)(Ue.a,{children:e.split(":")[1]}):Object(r.jsx)(Fe.a,{value:e,children:e},e)})),c.includes("county")&&Object.keys(m).map((function(e){return"HEADER"===e.split(":")[0]?Object(r.jsx)(Ue.a,{children:e.split(":")[1]}):Object(r.jsx)(Fe.a,{value:e,children:e},e)})),c.includes("state")&&Object.keys(v).map((function(e){return"HEADER"===e.split(":")[0]?Object(r.jsx)(Ue.a,{children:e.split(":")[1]}):Object(r.jsx)(Fe.a,{value:e,children:e},e)}))]})]}),Object(r.jsx)("br",{}),Object(r.jsxs)(at,{component:"fieldset",children:[Object(r.jsx)(We.a,{component:"legend",children:"Map Type"}),Object(r.jsxs)(Je.a,{"aria-label":"maptype",name:"maptype1",onChange:function(e,n){t(O("lisa"===n?{mapType:n,nBins:4,bins:ne[n],colorScale:te[n]}:{nBins:"hinge15_breaks"===n?6:8,mapType:n}))},value:s.mapType,children:[Object(r.jsx)(Ye.a,{value:"natural_breaks",control:Object(r.jsx)(qe.a,{}),label:"Choropleth"},"natural_breaks"),Object(r.jsx)(Ye.a,{value:"hinge15_breaks",control:Object(r.jsx)(qe.a,{}),label:"Box Map"},"hinge15_breaks"),Object(r.jsx)(Ye.a,{value:"lisa",control:Object(r.jsx)(qe.a,{}),label:"Local Moran"},"lisa"),Object(r.jsx)(Ye.a,{value:"cartogram",control:Object(r.jsx)(qe.a,{}),label:"Cartogram"},"cartogram")]})]}),Object(r.jsxs)(ot,{children:[Object(r.jsxs)(at,{children:[Object(r.jsx)(Ge.a,{htmlFor:"overlay-select",children:"Overlay"}),Object(r.jsxs)(Ke.a,{id:"overlay-select",value:s.overlay,onChange:function(e){t(O({overlay:e.target.value}))},children:[Object(r.jsx)(Fe.a,{value:"",children:"None"},"None"),Object(r.jsx)(Fe.a,{value:"native_american_reservations",children:"Native American Reservations"},"native_american_reservations"),Object(r.jsxs)(Fe.a,{value:"segregated_cities",children:["Hypersegregated Cities",Object(r.jsx)($e,{id:"Hypersegregated"})]},"segregated_cities"),Object(r.jsxs)(Fe.a,{value:"blackbelt",children:["Black Belt Counties",Object(r.jsx)($e,{id:"BlackBelt"})]},"blackbelt"),Object(r.jsxs)(Fe.a,{value:"congressional_districts",children:["US Congressional Districts ",Object(r.jsx)($e,{id:"USCongress"})]},"congressional_districts")]})]}),Object(r.jsxs)(at,{children:[Object(r.jsx)(Ge.a,{htmlFor:"resource-select",children:"Resource"}),Object(r.jsxs)(Ke.a,{id:"resource-select",value:s.resource,onChange:function(e){t(O({resource:e.target.value}))},children:[Object(r.jsx)(Fe.a,{value:"",children:"None"},"None"),Object(r.jsx)(Fe.a,{value:"clinics_hospitals",children:"Clinics and Hospitals"},"variable1"),Object(r.jsx)(Fe.a,{value:"clinics",children:"Clinics"},"variable2"),Object(r.jsx)(Fe.a,{value:"hospitals",children:"Hospitals"},"variable3")]})]})]}),Object(r.jsxs)("p",{className:"note",children:["Data is updated with freshest available data at 3pm CST daily, at minimum. In case of data discrepancy, local health departments are considered most accurate as per CDC recommendations. More information on ",Object(r.jsx)("a",{href:"data.html",children:"data"}),", ",Object(r.jsx)("a",{href:"methods.html",children:"methods"}),", and ",Object(r.jsx)("a",{href:"FAQ.html",children:"FAQ"})," at main site."]}),Object(r.jsx)("div",{className:"poweredByGeoda",children:Object(r.jsxs)("a",{href:"https://geodacenter.github.io",target:"_blank",rel:"noopener noreferrer",children:[Object(r.jsx)("img",{src:"".concat(".","/assets/img/geoda-logo.png")}),"POWERED BY GEODA"]})}),Object(r.jsx)("button",{onClick:function(){return h((function(e){return!e}))},id:"showHideLeft",className:u?"hidden":"active",children:Object(r.jsx)("svg",{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100",children:Object(r.jsx)("g",{transform:"translate(50 50) scale(0.69 0.69) rotate(0) translate(-50 -50)",children:Object(r.jsx)("path",{d:"M38,33.8L23.9,47.9c-1.2,1.2-1.2,3.1,0,4.2L38,66.2l4.2-4.2l-9-9H71v17c0,0.6-0.4,1-1,1H59v6h11\r c3.9,0,7-3.1,7-7V30c0-3.9-3.1-7-7-7H59v6h11c0.6,0,1,0.4,1,1v17H33.2l9-9L38,33.8z"})})})})]})},it=n(88),st=n(628);function lt(){var e=Object(K.a)(["\n    p {\n        display: inline;\n        color:white;\n    }\n    span.MuiSwitch-track {\n        background-color:#ddd;\n    }\n    .Mui-checked {\n        color:yellow;\n    }\n    .Mui-checked + .MuiSwitch-track {\n        background-color: yellow;\n    }\n    .MuiSwitch-colorSecondary:hover {\n        background-color:rgba(255,255,0,0.05);\n    }\n"]);return lt=function(){return e},e}var dt=Object(oe.a)(je.a)(lt()),ut=function(){var e=Object(y.c)((function(e){return e.chartData})),t=Object(y.c)((function(e){return e.dataParams})),n=Object(a.useState)(!1),o=Object(p.a)(n,2),c=o[0],i=o[1];return Object(r.jsxs)(je.a,{container:!0,spacing:2,id:"main-chart-container",children:[Object(r.jsx)(je.a,{item:!0,xs:10,style:{height:"20vh"},children:Object(r.jsx)(it.d,{width:"100%",height:"100%",children:Object(r.jsxs)(it.b,{data:e,margin:{top:0,right:10,left:45,bottom:20},children:[Object(r.jsx)(it.f,{dataKey:"date"}),Object(r.jsx)(it.g,{yAxisId:"left",type:"number",dataKey:"count",scale:c?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0}),Object(r.jsx)(it.g,{yAxisId:"right",orientation:"right",dataKey:"dailyNew",scale:c?"log":"linear",domain:[.01,"dataMax"],allowDataOverflow:!0}),Object(r.jsx)(it.e,{}),Object(r.jsx)(it.c,{yAxisId:"left",x1:function(e,t,n){if(null===e)try{return n.slice(0,1)[0].date}catch(r){return null}else try{return n[t-e].date}catch(a){return null}}(t.nRange,t.nIndex,e),x2:function(e,t){try{return t[e].date}catch(n){return null}}(t.nIndex,e),fill:"white",fillOpacity:.15,isAnimationActive:!1}),Object(r.jsx)(it.a,{type:"monotone",yAxisId:"left",dataKey:"count",name:"Total Count",stroke:"#5555ff",dot:!1}),Object(r.jsx)(it.a,{type:"monotone",yAxisId:"right",dataKey:"dailyNew",name:"Daily Count",stroke:"#ff0000",dot:!1})]})})}),Object(r.jsxs)(dt,{item:!0,xs:2,children:[Object(r.jsx)(st.a,{checked:c,onChange:function(){i((function(e){return!e}))},name:"log chart switch",inputProps:{"aria-label":"secondary checkbox"}}),Object(r.jsx)("p",{children:c?"Log Scale":"Linear Scale"})]})]})},pt=n(629),ht=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.anchorEl})),n=Boolean(t),a=n?"simple-popper":void 0;return Object(r.jsx)(pt.a,{id:a,open:n,anchorEl:t,placement:"left",disablePortal:!1,modifiers:{flip:{enabled:!0},preventOverflow:{enabled:!0,boundariesElement:"scrollParent"}},style:{zIndex:1e4,maxWidth:"200px",background:"none",padding:0,margin:0,pointerEvents:"none"},onMouseEnter:function(n){e(m(t))},onMouseLeave:function(){e(m(null))},children:Object(r.jsx)("div",{style:{background:"black",padding:"1px 10px",margin:0,borderRadius:"4px",color:"white",transform:"translateX(65%)",boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)",pointerEvents:"all"},children:t&&ae[t.id]})})};var bt=function(){var e=Object(y.c)((function(e){return e.storedData})),t=Object(y.c)((function(e){return e.storedGeojson})),n=Object(y.c)((function(e){return e.storedLisaData})),o=Object(y.c)((function(e){return e.currentData})),c=Object(y.c)((function(e){return e.currentVariable})),i=Object(y.c)((function(e){return e.cols})),s=Object(y.c)((function(e){return e.dates})),m=Object(y.c)((function(e){return e.mapParams})),v=Object(y.c)((function(e){return e.dataParams})),_=(Object(y.c)((function(e){return e.chartData})),Object(y.c)((function(e){return e.startDateIndex}))),w=Object(a.useState)(null),k=Object(p.a)(w,2),T=k[0],I=k[1],P=Object(y.b)(),D=function(e,t){for(var n={},r=0;r<e.length;r++)n[t[r]]=e[r][1];return n};function R(e,t,n,r,a,o){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(l.a.mark((function e(t,n,r,a,o,c){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n.map((function(e){return C("".concat(".","/csv/").concat(e,".csv"),r[1],o.includes(e)).then((function(e){return e}))})),Promise.all([E("".concat(".","/geojson/").concat(t),c)].concat(Object(d.a)(i))).then((function(e){P(b(e[0].geoidIndex,t));var n=A(e[0].data,r[0],e.slice(1),a,r[1]);P(h(n,t)),P(j(t)),P(g(D(e.slice(1),a),t))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function e(){setTimeout((function(){void 0===window.Module?e():null===T&&I(new S)}),100)}()}),[window.Module]),Object(a.useEffect)((function(){null!==T&&""===o&&R("county_usfacts.geojson",["covid_confirmed_usafacts","covid_deaths_usafacts","berkeley_predictions","chr_health_context","chr_life","chr_health_factors"],["GEOID","FIPS"],["cases","deaths","predictions","chr_health_context","chr_life","chr_health_factors"],[],T)}),[T]),Object(a.useEffect)((function(){null!==T&&""!==o&&void 0===e[o]&&R(re[o].geojson,re[o].csv,re[o].joinCols,re[o].tableNames,re[o].accumulate,T)}),[o]),Object(a.useEffect)((function(){""!=o&&(s.hasOwnProperty(o)||(function(e,t){P({type:"SET_CENTROIDS",payload:{data:t.GetCentroids(e),name:e}})}(o,T),function(e,t,n){var r=H(e[t]);P(function(e,t){return{type:"SET_DATES",payload:{data:e,name:t}}}(r[0],n)),P(f(r[0].slice(-1)[0])),P(x({nIndex:L(e,t,r[0].slice(-1)[0])})),P({type:"SET_START_DATE_INDEX",payload:{index:r[1]}})}(i[o],"cases",o)))}),[i]),Object(a.useEffect)((function(){e[o]&&P({type:"SET_CHART_DATA",payload:{data:V(e[o],"cases",_,s[o])}})}),[_]),Object(a.useEffect)((function(){if(null!==T&&"lisa"===m.mapType){var r=U(o,v);n.hasOwnProperty(r)||P({type:"SET_STORED_LISA_DATA",payload:{data:F(T,o,z(e[o],v.numerator,v.nType,v.nProperty,v.nIndex,v.nRange,v.denominator,v.dType,v.dProperty,v.dIndex,v.dRange,v.scale,t[o].indexOrder)),name:r}})}}),[v,m]),Object(a.useEffect)((function(){if(null!==T&&""!==o&&"lisa"!==m.mapType)if(null!==m.fixedScale)P(O({bins:ne[m.fixedScale],colorScale:te[m.fixedScale]}));else{var t=T.custom_breaks(o,m.mapType,m.nBins,null,B(e[o],v.numerator,v.nType,v.nProperty,"dynamic"===m.binMode?v.nIndex:null,v.nRange,v.denominator,v.dType,v.dProperty,"dynamic"===m.binMode?v.dIndex:null,v.dRange,v.scale));P(O({bins:{bins:"natural_breaks"===m.mapType?t.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(d.a)(t.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:te[m.mapType]}))}}),[s,v.numerator,v.nProperty,v.nRange,v.denominator,v.dProperty,v.dRange,v.scale,m.mapType]),Object(a.useEffect)((function(){if(null!==T&&"dynamic"===m.binMode&&""!==o&&"lisa"!==m.mapType){var t=T.custom_breaks(o,m.mapType,m.nBins.null,B(e[o],v.numerator,v.nType,v.nProperty,v.nIndex,v.nRange,v.denominator,v.dType,v.dProperty,v.dIndex,v.dRange,v.scale));P(O({bins:{bins:"natural_breaks"===m.mapType?t.bins:["Lower Outlier","< 25%","25-50%","50-75%",">75%","Upper Outlier"],breaks:[-Math.pow(10,12)].concat(Object(d.a)(t.breaks.slice(1,-1)),[Math.pow(10,12)])},colorScale:te[m.mapType]}))}}),[v.nIndex,v.dIndex]),Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(be,{}),Object(r.jsx)(ct,{}),Object(r.jsx)(ze,{}),Object(r.jsxs)("div",{id:"bottom-drawer",children:[Object(r.jsx)(He,{labels:m.bins.bins,title:c,colors:m.colorScale,binType:m.mapType}),Object(r.jsx)("hr",{}),Object(r.jsx)(ut,{}),Object(r.jsx)(Ee,{})]}),Object(r.jsx)(ht,{})]})},jt=n(175),gt={geodaProxy:null,storedData:{},storedGeojson:{},storedLisaData:{},storedCSV:{},cols:{},currentData:"",chartData:[{}],centroids:{},dates:{},currDate:"",currDateIndex:"",startDateIndex:"",currentVariable:"Confirmed Count per 100K Population",currentMethod:"natural_breaks",currentOverlay:"",currentResource:"",dataParams:{numerator:"cases",nType:"time-series",nProperty:null,nRange:7,nIndex:null,denominator:"properties",dType:"characteristic",dProperty:"population",dRange:null,dIndex:null,scale:1e5},mapParams:{mapType:"natural_breaks",bins:{bins:[],breaks:[]},binMode:"",fixedScale:null,nBins:8,use3d:!1,activeGeoid:"",overlay:"",resource:"",colorScale:[[240,240,240],[255,255,204],[255,237,160],[254,217,118],[254,178,76],[253,141,60],[252,78,42],[227,26,28],[177,0,38]]},storedRange:null,currentGeoid:"",sidebarData:{},anchorEl:null},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GEOID":return Object(Y.a)(Object(Y.a)({},e),{},{currentGeoid:t.payload.geoid});case"SET_STORED_DATA":var n=Object(Y.a)({},e.storedData);return n[t.payload.name]=t.payload.data,Object(Y.a)(Object(Y.a)({},e),{},{storedData:n});case"SET_STORED_GEOJSON":var r=Object(Y.a)({},e.storedGeojson);return r[t.payload.name]=t.payload.data,Object(Y.a)(Object(Y.a)({},e),{},{storedGeojson:r});case"SET_STORED_LISA_DATA":var a=Object(Y.a)({},e.storedLisaData);return a[t.payload.name]=t.payload.data,Object(Y.a)(Object(Y.a)({},e),{},{storedLisaData:a});case"SET_CENTROIDS":var o=Object(Y.a)({},e.centroids);return o[t.payload.name]=t.payload.data,Object(Y.a)(Object(Y.a)({},e),{},{centroids:o});case"SET_CURRENT_DATA":return Object(Y.a)(Object(Y.a)({},e),{},{currentData:t.payload.data});case"SET_GEODA_PROXY":return Object(Y.a)(Object(Y.a)({},e),{},{geodaProxy:t.payload.proxy});case"SET_DATES":var c=Object(Y.a)({},e.dates);return c[t.payload.name]=t.payload.data,Object(Y.a)(Object(Y.a)({},e),{},{dates:c});case"SET_DATA_FUNCTION":return Object(Y.a)(Object(Y.a)({},e),{},{currentDataFn:t.payload.fn});case"SET_COLUMN_NAMES":var i=Object(Y.a)({},e.cols);return i[t.payload.name]=t.payload.data,Object(Y.a)(Object(Y.a)({},e),{},{cols:i});case"SET_CURR_DATE":return Object(Y.a)(Object(Y.a)({},e),{},{currDate:t.payload.date});case"SET_DATE_INDEX":return Object(Y.a)(Object(Y.a)({},e),{},{currDateIndex:t.payload.index});case"SET_START_DATE_INDEX":return Object(Y.a)(Object(Y.a)({},e),{},{startDateIndex:t.payload.index});case"SET_BINS":var s={};return s.bins=t.payload.bins,s.breaks=t.payload.breaks,Object(Y.a)(Object(Y.a)({},e),{},{bins:s});case"SET_3D":return Object(Y.a)(Object(Y.a)({},e),{},{use3D:!e.use3D});case"SET_DATA_SIDEBAR":return Object(Y.a)(Object(Y.a)({},e),{},{sidebarData:t.payload.data});case"INCREMENT_DATE":var l=Object(Y.a)({},e.dataParams);return t.payload.index+e.dataParams.nIndex>e.dates[e.currentData].length?(l.nIndex=e.startDateIndex,l.dIndex=e.startDateIndex,Object(Y.a)(Object(Y.a)({},e),{},{dataParams:l})):(l.nIndex=l.nIndex+t.payload.index,l.dIndex=l.dIndex+t.payload.index,Object(Y.a)(Object(Y.a)({},e),{},{dataParams:l}));case"SET_VARIABLE_PARAMS":var d=Object(Y.a)(Object(Y.a)({},e.dataParams),t.payload.params);return"time-series"===d.nType&&null===d.nIndex&&(d.nIndex=e.storedIndex,d.nRange=e.storedRange),"time-series"===d.dType&&null===d.dIndex&&(d.dIndex=e.storedIndex,d.dRange=e.storedRange),"characteristic"===d.nType&&"time-series"===e.dataParams.nType?Object(Y.a)(Object(Y.a)({},e),{},{storedIndex:e.dataParams.nIndex,storedRange:e.dataParams.nRange,dataParams:d}):Object(Y.a)(Object(Y.a)({},e),{},{dataParams:d});case"SET_MAP_PARAMS":var u=Object(Y.a)(Object(Y.a)({},e.mapParams),t.payload.params);return Object(Y.a)(Object(Y.a)({},e),{},{mapParams:u});case"SET_VARIABLE_NAME":return Object(Y.a)(Object(Y.a)({},e),{},{currentVariable:t.payload.name});case"SET_CHART_DATA":return Object(Y.a)(Object(Y.a)({},e),{},{chartData:t.payload.data});case"SET_ANCHOR_EL":return Object(Y.a)(Object(Y.a)({},e),{},{anchorEl:t.payload.anchorEl});default:return e}},xt=(n(562),n(322)),Ot=n.n(xt),mt=Object(jt.b)(ft,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Ot.a.load({google:{families:["Lato:300,400,700,900","Montserrat:400,600,800","Playfair Display:ital","sans-serif"]}}),i.a.render(Object(r.jsx)(y.a,{store:mt,children:Object(r.jsx)(bt,{})}),document.getElementById("root"))}},[[563,1,2]]]);
//# sourceMappingURL=main.db4381d2.chunk.js.map